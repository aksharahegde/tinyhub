var O1=Object.defineProperty;var Q1=(e,t,s)=>t in e?O1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var ol=(e,t,s)=>Q1(e,typeof t!="symbol"?t+"":t,s);import{I as J1,B as Sn,T as Ss,C as fs,H as fn,S as ri,a as Hc,R as ra,D as q1,M as Qr,c as Y1,A as K1}from"./tinywidgets-Dydj5wHe.js";import{R as z,r as $s,a as X1}from"./react-dom-wpXbf5jk.js";import{O as Z1}from"./octokit-Eg2oUvHE.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function s(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(c){if(c.ep)return;c.ep=!0;const a=s(c);fetch(c.href,a)}})();const Vo=e=>typeof e,e0="tinybase",lt="",t0=Vo(lt),s0=Vo(Vo),ai="Listener",Qe="Result",n0="get",o0="add",ps="Has",c0="has",xo="Ids",Je="Table",hn=Je+"s",li=Je+xo,Lt="Row",zc=Lt+"Count",Pt=Lt+xo,Uc="Sorted"+Lt+xo,Tt="Cell",ws=Tt+xo,bs="Value",Ln=bs+"s",ii=bs+xo,xc="Status",r0=globalThis,gt=e=>e==null,ht=(e,t,s)=>gt(e)?s==null?void 0:s():t(e),ui=e=>Vo(e)==t0,Pa=e=>Vo(e)==s0,a0=e=>Array.isArray(e),Ao=e=>e.length,$n=()=>{},l0=(e,t)=>ot(new Array(e).fill(0),(s,o)=>t(o)),di=(e,t)=>e.every(t),Jr=(e,t)=>Ao(e)===Ao(t)&&di(e,(s,o)=>t[o]===s),ot=(e,t)=>e.map(t),i0=e=>Ao(e)==0,u0=(e,t)=>e.filter(t),cl=(e,t,s)=>e.with(t,s),Ic=Object,rl=e=>Ic.getPrototypeOf(e),d0=Ic.entries,al=e=>!gt(e)&&ht(rl(e),t=>t==Ic.prototype||gt(rl(t)),()=>!0),Si=Ic.keys,fi=(e,t)=>ht(e,s=>s[t]),$i=(e,t)=>t in e,S0=(e,t)=>(delete e[t],e),f0=e=>Ao(Si(e)),yi=(e,t)=>{const s=d0(e);return Ao(s)===f0(t)&&di(s,([o,c])=>al(c)?al(t[o])?yi(t[o],c):!1:t[o]===c)},$0=(e,t,s)=>($i(e,t)||(e[t]=s()),e[t]),{createContext:y0,useContext:_a,useEffect:C0}=z;var Jt=(e=>(e[e.Store=0]="Store",e[e.Metrics=1]="Metrics",e[e.Indexes=2]="Indexes",e[e.Relationships=3]="Relationships",e[e.Queries=4]="Queries",e[e.Checkpoints=5]="Checkpoints",e[e.Persister=6]="Persister",e[e.Synchronizer=7]="Synchronizer",e))(Jt||{});const Po=$0(r0,e0+"_uirc",()=>y0([])),ts=(e,t)=>{const s=_a(Po);return gt(e)?s[t*2]:ui(e)?fi(s[t*2+1]??{},e):e},Es=(e,t)=>{const s=ts(e,t);return gt(e)||ui(e)?s:e},ms=(e,t,s)=>{const{16:o,17:c}=_a(Po);C0(()=>(o==null||o(s,e,t),()=>c==null?void 0:c(s,e)),[o,e,t,s,c])},vs=e=>Si(_a(Po)[e*2+1]??{}),g0=()=>vs(0),h0=e=>ts(e,0),x=e=>Es(e,0),L0=(e,t)=>ms(e,t,0),T0=()=>vs(1),R0=e=>ts(e,1),Bc=e=>Es(e,1),p0=(e,t)=>ms(e,t,1),w0=()=>vs(2),b0=e=>ts(e,2),Zs=e=>Es(e,2),E0=(e,t)=>ms(e,t,2),m0=()=>vs(3),v0=e=>ts(e,3),_t=e=>Es(e,3),k0=(e,t)=>ms(e,t,3),V0=()=>vs(4),A0=e=>ts(e,4),Be=e=>Es(e,4),P0=(e,t)=>ms(e,t,4),_0=()=>vs(5),D0=e=>ts(e,5),Rt=e=>Es(e,5),N0=(e,t)=>ms(e,t,5),M0=()=>vs(6),F0=e=>ts(e,6),Da=e=>Es(e,6),H0=(e,t)=>ms(e,t,6),z0=()=>vs(7),U0=e=>ts(e,7),Na=e=>Es(e,7),x0=(e,t)=>ms(e,t,7),Ci=e=>e.toLowerCase();Ci(ai);const Wc="Transaction";Ci(Wc);const{useCallback:Cs,useEffect:_o,useMemo:gi,useLayoutEffect:I0,useRef:B0,useState:Do,useSyncExternalStore:W0}=z,ge=[],ll=[{},[],[ge,void 0,ge],void 0,!1,0],j0=[yi,Jr,([e,t,s],[o,c,a])=>t===c&&Jr(e,o)&&Jr(s,a)],G0=(e,t)=>e===t,Io=(e,t,s=ge)=>{const[,o]=Do(),[c,a]=Do();return _o(()=>{const u=e?t(e):void 0;return a(u),o([]),u==null?void 0:u.destroy},[e,...s]),c},hi=(e,t,...s)=>{var c;const o=(c=e==null?void 0:e[o0+t+ai])==null?void 0:c.call(e,...s);return()=>e==null?void 0:e.delListener(o)},Q=(e,t,s,o=ge)=>{const c=B0(ll[s]),a=Cs(()=>{var f;const $=((f=t==null?void 0:t[(s==4?c0:n0)+e])==null?void 0:f.call(t,...o))??ll[s];return(j0[s]??G0)($,c.current)?c.current:c.current=$},[t,s,e,...o]),u=Cs($=>hi(t,(s==4?ps:lt)+e,...o,$),[t,s,e,...o]);return W0(u,a,a)},q=(e,t,s,o=ge,c=ge,...a)=>I0(()=>hi(t,e,...c,s,...a),[t,e,...c,...o,...a]),ks=(e,t,s,o=ge,c=$n,a=ge,...u)=>{const $=x(e);return Cs(f=>ht($,S=>ht(s(f,S),C=>c(S["set"+t](...Li(u,S,f),C),C))),[$,t,...o,...a,...Ti(u)])},Li=(e,t,s)=>ot(e,o=>Pa(o)?o(s,t):o),Ti=e=>u0(e,t=>!Pa(t)),Tn=(e,t,s=$n,o=ge,...c)=>{const a=x(e);return Cs(u=>s(a==null?void 0:a["del"+t](...Li(c,a,u))),[a,t,...o,...Ti(c)])},Ri=(e,t,s)=>{const o=Rt(e);return Cs(()=>o==null?void 0:o[t](s),[o,t,s])},O0=(e,t=ge)=>gi(e,t),Q0=(e,t=ge)=>gi(e,t),J0=e=>Q(hn,x(e),4,[]),q0=e=>Q(hn,x(e),0),pi=e=>Q(li,x(e),1),Y0=(e,t)=>Q(Je,x(t),4,[e]),K0=(e,t)=>Q(Je,x(t),0,[e]),X0=(e,t)=>Q(Je+ws,x(t),1,[e]),Z0=(e,t,s)=>Q(Je+Tt,x(s),4,[e,t]),ed=(e,t)=>Q(zc,x(t),5,[e]),wi=(e,t)=>Q(Pt,x(t),1,[e]),bi=(e,t,s,o=0,c,a)=>Q(Uc,x(a),1,[e,t,s,o,c]),td=(e,t,s)=>Q(Lt,x(s),4,[e,t]),sd=(e,t,s)=>Q(Lt,x(s),0,[e,t]),Ei=(e,t,s)=>Q(ws,x(s),1,[e,t]),nd=(e,t,s,o)=>Q(Tt,x(o),4,[e,t,s]),mi=(e,t,s,o)=>Q(Tt,x(o),3,[e,t,s]),od=e=>Q(Ln,x(e),4,[]),cd=e=>Q(Ln,x(e),0),vi=e=>Q(ii,x(e),1),rd=(e,t)=>Q(bs,x(t),4,[e]),ki=(e,t)=>Q(bs,x(t),3,[e]),ad=(e,t,s,o,c)=>ks(s,hn,e,t,o,c),ld=(e,t,s,o,c,a)=>ks(o,Je,t,s,c,a,e),id=(e,t,s,o,c,a,u)=>ks(c,Lt,s,o,a,u,e,t),ud=(e,t,s=ge,o,c=$n,a=ge,u=!0)=>{const $=x(o);return Cs(f=>ht($,S=>ht(t(f,S),C=>c(S.addRow(Pa(e)?e(f,S):e,C,u),S,C))),[$,e,...s,...a,u])},dd=(e,t,s,o,c,a,u)=>ks(c,"PartialRow",s,o,a,u,e,t),Sd=(e,t,s,o,c,a,u,$)=>ks(a,Tt,o,c,u,$,e,t,s),fd=(e,t,s,o,c)=>ks(s,Ln,e,t,o,c),$d=(e,t,s,o,c)=>ks(s,"PartialValues",e,t,o,c),yd=(e,t,s,o,c,a)=>ks(o,bs,t,s,c,a,e),Cd=(e,t,s)=>Tn(e,hn,t,s),gd=(e,t,s,o)=>Tn(t,Je,s,o,e),hd=(e,t,s,o,c)=>Tn(s,Lt,o,c,e,t),Ld=(e,t,s,o,c,a,u)=>Tn(c,Tt,a,u,e,t,s,o),Td=(e,t,s)=>Tn(e,Ln,t,s),Rd=(e,t,s,o)=>Tn(t,bs,s,o,e),pd=(e,t,s,o)=>q(ps+hn,x(o),e,t,[],s),wd=(e,t,s,o)=>q(hn,x(o),e,t,ge,s),bd=(e,t,s,o)=>q(li,x(o),e,t,ge,s),Ed=(e,t,s,o,c)=>q(ps+Je,x(c),t,s,[e],o),md=(e,t,s,o,c)=>q(Je,x(c),t,s,[e],o),vd=(e,t,s,o,c)=>q(Je+ws,x(c),t,s,[e],o),kd=(e,t,s,o,c,a)=>q(ps+Je+Tt,x(a),s,o,[e,t],c),Vd=(e,t,s,o,c)=>q(zc,x(c),t,s,[e],o),Ad=(e,t,s,o,c)=>q(Pt,x(c),t,s,[e],o),Pd=(e,t,s,o,c,a,u,$,f)=>q(Uc,x(f),a,u,[e,t,s,o,c],$),_d=(e,t,s,o,c,a)=>q(ps+Lt,x(a),s,o,[e,t],c),Dd=(e,t,s,o,c,a)=>q(Lt,x(a),s,o,[e,t],c),Nd=(e,t,s,o,c,a)=>q(ws,x(a),s,o,[e,t],c),Md=(e,t,s,o,c,a,u)=>q(ps+Tt,x(u),o,c,[e,t,s],a),Fd=(e,t,s,o,c,a,u)=>q(Tt,x(u),o,c,[e,t,s],a),Hd=(e,t,s,o)=>q(ps+Ln,x(o),e,t,[],s),zd=(e,t,s,o)=>q(Ln,x(o),e,t,ge,s),Ud=(e,t,s,o)=>q(ii,x(o),e,t,ge,s),xd=(e,t,s,o,c)=>q(ps+bs,x(c),t,s,[e],o),Id=(e,t,s,o,c)=>q(bs,x(c),t,s,[e],o),Bd=(e,t,s)=>q("Start"+Wc,x(s),e,t),Wd=(e,t,s)=>q("WillFinish"+Wc,x(s),e,t),jd=(e,t,s)=>q("DidFinish"+Wc,x(s),e,t),Gd=(e,t,s)=>Io(e,t,s),Od=e=>Q("MetricIds",Bc(e),1),Vi=(e,t)=>Q("Metric",Bc(t),3,[e]),Qd=(e,t,s,o)=>q("Metric",Bc(o),t,s,[e]),Jd=(e,t,s)=>Io(e,t,s),Ai=(e,t)=>Q("SliceIds",Zs(t),1,[e]),qd=e=>Q("IndexIds",Zs(e),1),Pi=(e,t,s)=>Q("Slice"+Pt,Zs(s),1,[e,t]),Yd=(e,t,s,o)=>q("SliceIds",Zs(o),t,s,[e]),Kd=(e,t,s,o,c)=>q("Slice"+Pt,Zs(c),s,o,[e,t]),Xd=(e,t,s)=>Io(e,t,s),Zd=e=>Q("RelationshipIds",_t(e),1),_i=(e,t,s)=>Q("RemoteRowId",_t(s),3,[e,t]),Di=(e,t,s)=>Q("Local"+Pt,_t(s),1,[e,t]),Ni=(e,t,s)=>Q("Linked"+Pt,_t(s),1,[e,t]),eS=(e,t,s,o,c)=>q("RemoteRowId",_t(c),s,o,[e,t]),tS=(e,t,s,o,c)=>q("Local"+Pt,_t(c),s,o,[e,t]),sS=(e,t,s,o,c)=>q("Linked"+Pt,_t(c),s,o,[e,t]),nS=(e,t,s)=>Io(e,t,s),oS=e=>Q("QueryIds",Be(e),1),cS=(e,t)=>Q(Qe+Je,Be(t),0,[e]),rS=(e,t)=>Q(Qe+Je+ws,Be(t),1,[e]),aS=(e,t)=>Q(Qe+zc,Be(t),5,[e]),Mi=(e,t)=>Q(Qe+Pt,Be(t),1,[e]),Fi=(e,t,s,o=0,c,a)=>Q(Qe+Uc,Be(a),1,[e,t,s,o,c]),lS=(e,t,s)=>Q(Qe+Lt,Be(s),0,[e,t]),Hi=(e,t,s)=>Q(Qe+ws,Be(s),1,[e,t]),zi=(e,t,s,o)=>Q(Qe+Tt,Be(o),3,[e,t,s]),iS=(e,t,s,o)=>q(Qe+Je,Be(o),t,s,[e]),uS=(e,t,s,o)=>q(Qe+Je+ws,Be(o),t,s,[e]),dS=(e,t,s,o)=>q(Qe+zc,Be(o),t,s,[e]),SS=(e,t,s,o)=>q(Qe+Pt,Be(o),t,s,[e]),fS=(e,t,s,o,c,a,u,$)=>q(Qe+Uc,Be($),a,u,[e,t,s,o,c]),$S=(e,t,s,o,c)=>q(Qe+Lt,Be(c),s,o,[e,t]),yS=(e,t,s,o,c)=>q(Qe+ws,Be(c),s,o,[e,t]),CS=(e,t,s,o,c,a)=>q(Qe+Tt,Be(a),o,c,[e,t,s]),gS=(e,t,s)=>Io(e,t,s),jc=e=>Q("CheckpointIds",Rt(e),2),Ui=(e,t)=>Q("Checkpoint",Rt(t),3,[e]),hS=(e=$n,t=ge,s,o=$n,c=ge)=>{const a=Rt(s);return Cs(u=>ht(a,$=>{const f=e(u);o($.addCheckpoint(f),$,f)}),[a,...t,...c])},xi=e=>Ri(e,"goBackward"),Ii=e=>Ri(e,"goForward"),LS=(e,t=ge,s,o=$n,c=ge)=>{const a=Rt(s);return Cs(u=>ht(a,$=>ht(e(u),f=>o($.goTo(f),f))),[a,...t,...c])},TS=e=>{const t=Rt(e),[s,o]=jc(t);return[!i0(s),xi(t),o,ht(o,c=>t==null?void 0:t.getCheckpoint(c))??lt]},RS=e=>{const t=Rt(e),[,,[s]]=jc(t);return[!gt(s),Ii(t),s,ht(s,o=>t==null?void 0:t.getCheckpoint(o))??lt]},pS=(e,t,s)=>q("CheckpointIds",Rt(s),e,t),wS=(e,t,s,o)=>q("Checkpoint",Rt(o),t,s,[e]),bS=(e,t,s=ge,o,c=ge,a,u=ge)=>{const[,$]=Do(),[f,S]=Do();return _o(()=>{(async()=>{const C=e?await t(e):void 0;S(C),C&&o&&(async()=>(await o(C),$([])))()})()},[e,...s,...c]),_o(()=>()=>{f&&(f.destroy(),a==null||a(f))},[f,...u]),f},ES=e=>Q(xc,Da(e),5,[]),mS=(e,t,s)=>q(xc,Da(s),e,t,[]),vS=(e,t,s=ge,o,c=ge)=>{const[a,u]=Do();return _o(()=>{(async()=>{const $=e?await t(e):void 0;u($)})()},[e,...s]),_o(()=>()=>{a&&(a.destroy(),o==null||o(a))},[a,...c]),a},kS=e=>Q(xc,Na(e),5,[]),VS=(e,t,s)=>q(xc,Na(s),e,t,[]),{PureComponent:zh,Fragment:Uh,createElement:it,useCallback:xh,useLayoutEffect:Ih,useRef:Bh,useState:Wh}=z,pt=(e,...t)=>gt(e)?{}:e(...t),Bi=(e,t)=>[e,e==null?void 0:e.getStore(),e==null?void 0:e.getLocalTableId(t),e==null?void 0:e.getRemoteTableId(t)],AS=(e,t)=>[e,e==null?void 0:e.getStore(),e==null?void 0:e.getTableId(t)],{useCallback:il,useContext:PS,useMemo:_S,useState:DS}=z,ns=(e,t,s,o,c)=>[s??t[e*2],{...t[e*2+1],...o,...c[e]}],Wi=({tableId:e,store:t,rowComponent:s=Bo,getRowComponentProps:o,customCellIds:c,separator:a,debugIds:u},$)=>qe(ot($,f=>it(s,{...pt(o,f),key:f,tableId:e,rowId:f,customCellIds:c,store:t,debugIds:u})),a,u,e),ji=({queryId:e,queries:t,resultRowComponent:s=Ki,getResultRowComponentProps:o,separator:c,debugIds:a},u)=>qe(ot(u,$=>it(s,{...pt(o,$),key:$,queryId:e,rowId:$,queries:t,debugIds:a})),c,a,e),Gi=({relationshipId:e,relationships:t,rowComponent:s=Bo,getRowComponentProps:o,separator:c,debugIds:a},u,$)=>{const[f,S,C]=Bi(_t(t),e),g=u(e,$,f);return qe(ot(g,T=>it(s,{...pt(o,T),key:T,tableId:C,rowId:T,store:S,debugIds:a})),c,a,$)},Ma=e=>({checkpoints:t,checkpointComponent:s=Xi,getCheckpointComponentProps:o,separator:c,debugIds:a})=>{const u=Rt(t);return qe(ot(e(jc(u)),$=>it(s,{...pt(o,$),key:$,checkpoints:u,checkpointId:$,debugIds:a})),c)},NS=({store:e,storesById:t,metrics:s,metricsById:o,indexes:c,indexesById:a,relationships:u,relationshipsById:$,queries:f,queriesById:S,checkpoints:C,checkpointsById:g,persister:T,persistersById:R,synchronizer:w,synchronizersById:v,children:D})=>{const P=PS(Po),[b,oe]=DS(()=>l0(8,()=>({}))),ue=il((X,E,A)=>oe(he=>fi(he[X],E)==A?he:cl(he,X,{...he[X],[E]:A})),[]),$e=il((X,E)=>oe(A=>$i(A[X],E)?cl(A,X,S0(A[X],E)):A),[]);return it(Po.Provider,{value:_S(()=>[...ns(Jt.Store,P,e,t,b),...ns(Jt.Metrics,P,s,o,b),...ns(Jt.Indexes,P,c,a,b),...ns(Jt.Relationships,P,u,$,b),...ns(Jt.Queries,P,f,S,b),...ns(Jt.Checkpoints,P,C,g,b),...ns(Jt.Persister,P,T,R,b),...ns(Jt.Synchronizer,P,w,v,b),ue,$e],[b,e,t,s,o,c,a,u,$,f,S,C,g,T,R,w,v,P,ue,$e])},D)},qe=(e,t,s,o)=>{const c=gt(t)||!a0(e)?e:ot(e,(a,u)=>u>0?[t,a]:a);return s?[o,":{",c,"}"]:c},MS=(e,t,s,o)=>{const c=Ei(t,s,o);return e??c},Oi=({tableId:e,rowId:t,cellId:s,store:o,debugIds:c})=>qe(lt+(mi(e,t,s,o)??lt),void 0,c,s),Bo=({tableId:e,rowId:t,store:s,cellComponent:o=Oi,getCellComponentProps:c,customCellIds:a,separator:u,debugIds:$})=>qe(ot(MS(a,e,t,s),f=>it(o,{...pt(c,f),key:f,tableId:e,rowId:t,cellId:f,store:s,debugIds:$})),u,$,t),Qi=e=>Wi(e,wi(e.tableId,e.store)),FS=({cellId:e,descending:t,offset:s,limit:o,...c})=>Wi(c,bi(c.tableId,e,t,s,o,c.store)),HS=({store:e,tableComponent:t=Qi,getTableComponentProps:s,separator:o,debugIds:c})=>qe(ot(pi(e),a=>it(t,{...pt(s,a),key:a,tableId:a,store:e,debugIds:c})),o),Ji=({valueId:e,store:t,debugIds:s})=>qe(lt+(ki(e,t)??lt),void 0,s,e),zS=({store:e,valueComponent:t=Ji,getValueComponentProps:s,separator:o,debugIds:c})=>qe(ot(vi(e),a=>it(t,{...pt(s,a),key:a,valueId:a,store:e,debugIds:c})),o),US=({metricId:e,metrics:t,debugIds:s})=>qe(Vi(e,t)??lt,void 0,s,e),qi=({indexId:e,sliceId:t,indexes:s,rowComponent:o=Bo,getRowComponentProps:c,separator:a,debugIds:u})=>{const[$,f,S]=AS(Zs(s),e),C=Pi(e,t,$);return qe(ot(C,g=>it(o,{...pt(c,g),key:g,tableId:S,rowId:g,store:f,debugIds:u})),a,u,t)},xS=({indexId:e,indexes:t,sliceComponent:s=qi,getSliceComponentProps:o,separator:c,debugIds:a})=>qe(ot(Ai(e,t),u=>it(s,{...pt(o,u),key:u,indexId:e,sliceId:u,indexes:t,debugIds:a})),c,a,e),IS=({relationshipId:e,localRowId:t,relationships:s,rowComponent:o=Bo,getRowComponentProps:c,debugIds:a})=>{const[u,$,,f]=Bi(_t(s),e),S=_i(e,t,u);return qe(gt(f)||gt(S)?null:it(o,{...pt(c,S),key:S,tableId:f,rowId:S,store:$,debugIds:a}),void 0,a,t)},BS=e=>Gi(e,Di,e.remoteRowId),WS=e=>Gi(e,Ni,e.firstRowId),Yi=({queryId:e,rowId:t,cellId:s,queries:o,debugIds:c})=>qe(lt+(zi(e,t,s,o)??lt),void 0,c,s),Ki=({queryId:e,rowId:t,queries:s,resultCellComponent:o=Yi,getResultCellComponentProps:c,separator:a,debugIds:u})=>qe(ot(Hi(e,t,s),$=>it(o,{...pt(c,$),key:$,queryId:e,rowId:t,cellId:$,queries:s,debugIds:u})),a,u,t),jS=e=>ji(e,Mi(e.queryId,e.queries)),GS=({cellId:e,descending:t,offset:s,limit:o,...c})=>ji(c,Fi(c.queryId,e,t,s,o,c.queries)),Xi=({checkpoints:e,checkpointId:t,debugIds:s})=>qe(Ui(t,e)??lt,void 0,s,t),OS=Ma(e=>e[0]),QS=Ma(e=>gt(e[1])?[]:[e[1]]),JS=Ma(e=>e[2]),Rn=Object.freeze(Object.defineProperty({__proto__:null,BackwardCheckpointsView:OS,CellView:Oi,CheckpointView:Xi,CurrentCheckpointView:QS,ForwardCheckpointsView:JS,IndexView:xS,LinkedRowsView:WS,LocalRowsView:BS,MetricView:US,Provider:NS,RemoteRowView:IS,ResultCellView:Yi,ResultRowView:Ki,ResultSortedTableView:GS,ResultTableView:jS,RowView:Bo,SliceView:qi,SortedTableView:FS,TableView:Qi,TablesView:HS,ValueView:Ji,ValuesView:zS,useAddRowCallback:ud,useCell:mi,useCellIds:Ei,useCellIdsListener:Nd,useCellListener:Fd,useCheckpoint:Ui,useCheckpointIds:jc,useCheckpointIdsListener:pS,useCheckpointListener:wS,useCheckpoints:D0,useCheckpointsIds:_0,useCheckpointsOrCheckpointsById:Rt,useCreateCheckpoints:gS,useCreateIndexes:Jd,useCreateMergeableStore:Q0,useCreateMetrics:Gd,useCreatePersister:bS,useCreateQueries:nS,useCreateRelationships:Xd,useCreateStore:O0,useCreateSynchronizer:vS,useDelCellCallback:Ld,useDelRowCallback:hd,useDelTableCallback:gd,useDelTablesCallback:Cd,useDelValueCallback:Rd,useDelValuesCallback:Td,useDidFinishTransactionListener:jd,useGoBackwardCallback:xi,useGoForwardCallback:Ii,useGoToCallback:LS,useHasCell:nd,useHasCellListener:Md,useHasRow:td,useHasRowListener:_d,useHasTable:Y0,useHasTableCell:Z0,useHasTableCellListener:kd,useHasTableListener:Ed,useHasTables:J0,useHasTablesListener:pd,useHasValue:rd,useHasValueListener:xd,useHasValues:od,useHasValuesListener:Hd,useIndexIds:qd,useIndexes:b0,useIndexesIds:w0,useIndexesOrIndexesById:Zs,useLinkedRowIds:Ni,useLinkedRowIdsListener:sS,useLocalRowIds:Di,useLocalRowIdsListener:tS,useMetric:Vi,useMetricIds:Od,useMetricListener:Qd,useMetrics:R0,useMetricsIds:T0,useMetricsOrMetricsById:Bc,usePersister:F0,usePersisterIds:M0,usePersisterOrPersisterById:Da,usePersisterStatus:ES,usePersisterStatusListener:mS,useProvideCheckpoints:N0,useProvideIndexes:E0,useProvideMetrics:p0,useProvidePersister:H0,useProvideQueries:P0,useProvideRelationships:k0,useProvideStore:L0,useProvideSynchronizer:x0,useQueries:A0,useQueriesIds:V0,useQueriesOrQueriesById:Be,useQueryIds:oS,useRedoInformation:RS,useRelationshipIds:Zd,useRelationships:v0,useRelationshipsIds:m0,useRelationshipsOrRelationshipsById:_t,useRemoteRowId:_i,useRemoteRowIdListener:eS,useResultCell:zi,useResultCellIds:Hi,useResultCellIdsListener:yS,useResultCellListener:CS,useResultRow:lS,useResultRowCount:aS,useResultRowCountListener:dS,useResultRowIds:Mi,useResultRowIdsListener:SS,useResultRowListener:$S,useResultSortedRowIds:Fi,useResultSortedRowIdsListener:fS,useResultTable:cS,useResultTableCellIds:rS,useResultTableCellIdsListener:uS,useResultTableListener:iS,useRow:sd,useRowCount:ed,useRowCountListener:Vd,useRowIds:wi,useRowIdsListener:Ad,useRowListener:Dd,useSetCellCallback:Sd,useSetCheckpointCallback:hS,useSetPartialRowCallback:dd,useSetPartialValuesCallback:$d,useSetRowCallback:id,useSetTableCallback:ld,useSetTablesCallback:ad,useSetValueCallback:yd,useSetValuesCallback:fd,useSliceIds:Ai,useSliceIdsListener:Yd,useSliceRowIds:Pi,useSliceRowIdsListener:Kd,useSortedRowIds:bi,useSortedRowIdsListener:Pd,useStartTransactionListener:Bd,useStore:h0,useStoreIds:g0,useStoreOrStoreById:x,useSynchronizer:U0,useSynchronizerIds:z0,useSynchronizerOrSynchronizerById:Na,useSynchronizerStatus:kS,useSynchronizerStatusListener:VS,useTable:K0,useTableCellIds:X0,useTableCellIdsListener:vd,useTableIds:pi,useTableIdsListener:bd,useTableListener:md,useTables:q0,useTablesListener:wd,useUndoInformation:TS,useValue:ki,useValueIds:vi,useValueIdsListener:Ud,useValueListener:Id,useValues:cd,useValuesListener:zd,useWillFinishTransactionListener:Wd},Symbol.toStringTag,{value:"Module"})),gs=e=>typeof e,Zt="",Zi=gs(Zt),qS=gs(!0),eu=gs(0),YS=gs(gs),Xo="type",zs="default",KS="sum",XS="avg",ZS="min",ef="max",tf="Listener",sf="add",Us="Has",Gc="Ids",an="Table",ul=an+"s",nf=an+Gc,gc="Row",of=gc+"Count",cf=gc+Gc,$c="Cell",dl=$c+Gc,hc="Value",Sl=hc+"s",rf=hc+Gc,le=e=>Zt+e,af=globalThis,tu=Math,qr=tu.max,Yr=tu.min,lf=isFinite,uf=(e,t)=>e instanceof t,pe=e=>e==null,Ae=(e,t,s)=>pe(e)?s==null?void 0:s():t(e),su=e=>e==Zi||e==qS,df=e=>gs(e)==Zi,fl=e=>gs(e)==YS,No=e=>Array.isArray(e),$l=(e,t,s)=>e.slice(t,s),Vt=e=>e.length,Sf=(e,t)=>e.test(t),ff=(e,t)=>e.includes(t),nu=(e,t)=>e.every(t),ou=(e,t)=>Vt(e)===Vt(t)&&nu(e,(s,o)=>t[o]===s),yl=(e,t)=>nu(e,(s,o)=>o==0||t(e[o-1],s)<=0),aa=(e,t)=>e.sort(t),Os=(e,t)=>e.forEach(t),yn=(e,t)=>e.map(t),Cl=e=>cu(e,(t,s)=>t+s,0),$f=e=>Vt(e)==0,cu=(e,t,s)=>e.reduce(t,s),Lc=(e,...t)=>e.push(...t),yf=e=>e.shift(),en=Object,gl=e=>en.getPrototypeOf(e),Cf=en.entries,gf=en.isFrozen,ru=e=>!pe(e)&&Ae(gl(e),t=>t==en.prototype||pe(gl(t)),()=>!0),hf=en.keys,au=en.freeze,Ro=(e,t)=>t in e,lu=(e,t)=>(delete e[t],e),Yt=(e,t)=>yn(Cf(e),([s,o])=>t(o,s)),Lf=e=>Vt(hf(e)),Et=e=>ru(e)&&Lf(e)==0,os=(e,t,s,o=0)=>pe(e)||!ru(e)||!o&&Et(e)||gf(e)?(s==null||s(),!1):(Yt(e,(c,a)=>{t(c,a)||lu(e,a)}),o?!0:!Et(e)),Fa=e=>t=>cu(za(t),(s,o)=>s+e(o),0),Ha=e=>(e==null?void 0:e.size)??0,Oc=Fa(Ha),ln=Fa(Oc),Kr=Fa(ln),Me=(e,t)=>(e==null?void 0:e.has(t))??!1,G=e=>pe(e)||Ha(e)==0,za=e=>[...(e==null?void 0:e.values())??[]],mo=e=>e.clear(),O=(e,t)=>e==null?void 0:e.forEach(t),ys=(e,t)=>e==null?void 0:e.delete(t),H=e=>new Map(e),Ws=e=>[...(e==null?void 0:e.keys())??[]],V=(e,t)=>e==null?void 0:e.get(t),st=(e,t)=>O(e,(s,o)=>t(o,s)),Tf=(e,t)=>yn([...(e==null?void 0:e.entries())??[]],([s,o])=>t(o,s)),B=(e,t,s)=>pe(s)?(ys(e,t),e):e==null?void 0:e.set(t,s),Ie=(e,t,s,o)=>(Me(e,t)?o==null||o(V(e,t)):B(e,t,s()),V(e,t)),xs=(e,t,s,o=B)=>(Yt(t,(c,a)=>s(e,a,c)),st(e,c=>Ro(t,c)?0:o(e,c)),e),Xe=(e,t,s,o)=>{const c={};return O(e,(a,u)=>{if(!(s!=null&&s(a,u))){const $=t?t(a,u):a;o!=null&&o($)||(c[u]=$)}}),c},la=(e,t,s)=>Xe(e,o=>Xe(o,t,s),G,Et),Zo=(e,t,s)=>Xe(e,o=>la(o,t,s),G,Et),ls=(e,t)=>{const s=H();return O(e,(o,c)=>s.set(c,(t==null?void 0:t(o))??o)),s},ia=e=>ls(e,ls),Xr=e=>ls(e,ia),ua=(e,t,s,o,c=0)=>Ae((s?Ie:V)(e,t[c],c>Vt(t)-2?s:H),a=>{if(c>Vt(t)-2)return o!=null&&o(a)&&B(e,t[c]),a;const u=ua(a,t,s,o,c+1);return G(a)&&B(e,t[c]),u}),Co=e=>{const t=gs(e);return su(t)||t==eu&&lf(e)?t:void 0},hl=(e,t,s,o,c)=>pe(c)?e.delCell(t,s,o,!0):e.setCell(t,s,o,c),Ll=(e,t,s)=>pe(s)?e.delValue(t):e.setValue(t,s),at=e=>new Set(No(e)||pe(e)?e:[e]),nt=(e,t)=>e==null?void 0:e.add(t),Rf=(e,t,s,o,c)=>{const a=e.hasRow,u=H(),$=H(),f=H(),S=H(),C=H(),g=H(),T=()=>e,R=()=>Ws(u),w=M=>st($,M),v=M=>Me($,M),D=M=>V(u,M),P=M=>V($,M),b=(M,ee)=>B($,M,ee),oe=(M,ee,...Le)=>{const ne=Ie(g,M,at);return Os(Le,F=>nt(ne,F)&&ee&&e.callListener(F)),Le},ue=(M,...ee)=>Ae(V(g,M),Le=>{Os($f(ee)?za(Le):ee,ne=>{e.delListener(ne),ys(Le,ne)}),G(Le)&&B(g,M)}),$e=(M,ee)=>{B(u,M,ee),Me($,M)||(B($,M,t()),B(S,M,H()),B(C,M,H()),c(f))},X=(M,ee,Le,ne,F)=>{$e(M,ee);const Y=H(),fe=H(),ae=V(S,M),Ce=V(C,M),we=Z=>{const se=De=>e.getCell(ee,Z,De),Te=V(ae,Z),Fe=a(ee,Z)?s(ne(se,Z)):void 0;if(Te===Fe||No(Te)&&No(Fe)&&ou(Te,Fe)||B(Y,Z,[Te,Fe]),!pe(F)){const De=V(Ce,Z),j=a(ee,Z)?F(se,Z):void 0;De!=j&&B(fe,Z,j)}},Re=Z=>{Le(()=>{O(Y,([,se],Te)=>B(ae,Te,se)),O(fe,(se,Te)=>B(Ce,Te,se))},Y,fe,ae,Ce,Z),mo(Y),mo(fe)};st(ae,we),e.hasTable(ee)&&Os(e.getRowIds(ee),Z=>{Me(ae,Z)||we(Z)}),Re(!0),ue(M),oe(M,0,e.addRowListener(ee,null,(Z,se,Te)=>we(Te)),e.addTableListener(ee,()=>Re()))},E=M=>{B(u,M),B($,M),B(S,M),B(C,M),ue(M),c(f)};return[T,R,w,v,D,P,b,$e,X,E,M=>o(M,f),()=>st(g,E),oe,ue]},Tl=(e,t)=>df(e)?s=>s(e):e??(()=>t??Zt),pf=(e,t)=>{const s=new WeakMap;return o=>{s.has(o)||s.set(o,e(o));const c=s.get(o);return t==null||t(c),c}},wf=/^\d+$/,iu=()=>{const e=[];let t=0;return[s=>(s?yf(e):null)??Zt+t++,s=>{Sf(wf,s)&&Vt(e)<1e3&&Lc(e,s)}]},bf=(e,t=[Zt])=>{const s=[],o=(c,a)=>a==Vt(t)?Lc(s,c):t[a]===null?O(c,u=>o(u,a+1)):Os([t[a],null],u=>o(V(c,u),a+1));return o(e,0),s},uu=e=>{let t;const[s,o]=iu(),c=H();return[(S,C,g,T=[],R=()=>[])=>{t??(t=e());const w=s(1);return B(c,w,[S,C,g,T,R]),nt(ua(C,g??[Zt],at),w),w},(S,C,...g)=>Os(bf(S,C),T=>O(T,R=>V(c,R)[0](t,...C??[],...g))),S=>Ae(V(c,S),([,C,g])=>(ua(C,g??[Zt],void 0,T=>(ys(T,S),G(T)?1:0)),B(c,S),o(S),g)),S=>Ae(V(c,S),([C,,g=[],T,R])=>{const w=(...v)=>{var P;const D=Vt(v);D==Vt(g)?C(t,...v,...R(v)):pe(g[D])?Os(((P=T[D])==null?void 0:P.call(T,...v))??[],b=>w(...v,b)):w(...v,g[D])};w()})]},Ef="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".split(Zt);H(yn(Ef,(e,t)=>[e,t]));const du=(e,t)=>(e??0)<(t??0)?-1:1,mf=pf(e=>{const t=H(),s=H(),[o,c,a]=uu(()=>ne),[u,$,f,S,C,g,T,,R,w,v,D]=Rf(e,H,F=>pe(F)?Zt:No(F)?yn(F,le):le(F),o,c),P=(F,Y)=>Me(g(F),Y),b=(F,Y,fe,ae,Ce,we=du)=>{const Re=pe(Ce)?void 0:([Z],[se])=>Ce(Z,se);return R(F,Y,(Z,se,Te,Fe,De,j)=>{let L=0;const W=at(),be=at(),He=g(F);if(O(se,([Ee,xe],ze)=>{const I=at(Ee),ss=at(xe);O(I,Oe=>ys(ss,Oe)?ys(I,Oe):0),O(I,Oe=>{nt(W,Oe),Ae(V(He,Oe),sn=>{ys(sn,ze),G(sn)&&(B(He,Oe),L=1)})}),O(ss,Oe=>{nt(W,Oe),Me(He,Oe)||(B(He,Oe,at()),L=1),nt(V(He,Oe),ze),pe(ae)||nt(be,Oe)})}),Z(),G(De)||(j?st(He,Ee=>nt(be,Ee)):st(Te,Ee=>Ae(V(Fe,Ee),xe=>nt(be,xe))),O(be,Ee=>{const xe=(I,ss)=>we(V(De,I),V(De,ss),Ee),ze=[...V(He,Ee)];yl(ze,xe)||(B(He,Ee,at(aa(ze,xe))),nt(W,Ee))})),(L||j)&&!pe(Re)){const Ee=[...He];yl(Ee,Re)||(T(F,H(aa(Ee,Re))),L=1)}L&&c(t,[F]),O(W,Ee=>c(s,[F,Ee]))},Tl(fe),Ae(ae,Tl)),ne},oe=F=>f((Y,fe)=>F(Y,ae=>$e(Y,ae,fe))),ue=(F,Y)=>$e(F,Y,g(F)),$e=(F,Y,fe)=>{const ae=C(F);O(fe,(Ce,we)=>Y(we,Re=>O(Ce,Z=>Re(Z,se=>e.forEachCell(ae,Z,se)))))},ne={setIndexDefinition:b,delIndexDefinition:F=>(w(F),ne),getStore:u,getIndexIds:$,forEachIndex:oe,forEachSlice:ue,hasIndex:S,hasSlice:P,getTableId:C,getSliceIds:F=>Ws(g(F)),getSliceRowIds:(F,Y)=>za(V(g(F),Y)),addIndexIdsListener:v,addSliceIdsListener:(F,Y)=>o(Y,t,[F]),addSliceRowIdsListener:(F,Y,fe)=>o(fe,s,[F,Y]),delListener:F=>(a(F),ne),destroy:D,getListenerStats:()=>({sliceIds:Oc(t),sliceRowIds:ln(s)})};return au(ne)});H([[XS,[(e,t)=>Cl(e)/t,(e,t,s)=>e+(t-e)/(s+1),(e,t,s)=>e+(e-t)/(s-1),(e,t,s,o)=>e+(t-s)/o]],[ef,[e=>qr(...e),(e,t)=>qr(t,e),(e,t)=>t==e?void 0:e,(e,t,s)=>s==e?void 0:qr(t,e)]],[ZS,[e=>Yr(...e),(e,t)=>Yr(t,e),(e,t)=>t==e?void 0:e,(e,t,s)=>s==e?void 0:Yr(t,e)]],[KS,[e=>Cl(e),(e,t)=>e+t,(e,t)=>e-t,(e,t,s)=>e-s+t]]]);new af.TextEncoder;const ec=e=>[e,e],me=(e,t=Oc)=>t(e[0])+t(e[1]),ve=()=>[H(),H()],Rl=e=>[...e],tc=([e,t])=>e===t,vf=JSON.stringify,Zr=JSON.parse,nn=e=>vf(e,(t,s)=>uf(s,Map)?en.fromEntries([...s]):s),go=(e,t,s)=>B(e,t,V(e,t)==-s?void 0:s),tn=()=>{let e,t,s=!1,o=!1,c=0,a=[];const u=H(),$=H(),f=H(),S=H(),C=H(),g=H(),T=H(),R=H(),w=H(),v=H(),D=H(),P=H(),b=H(),oe=H(),ue=at(),$e=H(),X=H(),E=H(),A=H(),he=ve(),M=ve(),ee=ve(),Le=ve(),ne=ve(),F=ve(),Y=ve(),fe=ve(),ae=ve(),Ce=ve(),we=ve(),Re=ve(),Z=ve(),se=ve(),Te=ve(),Fe=ve(),De=ve(),j=ve(),L=ve(),W=ve(),be=ve(),He=ve(),Ee=H(),xe=ve(),[ze,I,ss,Oe]=uu(()=>ce),sn=n=>os(n,r=>os(r,bn)),yr=n=>os(n,bn),bn=n=>{if(!os(n,(l,i)=>ff([Xo,zs],i)))return!1;const r=n[Xo];return!su(r)&&r!=eu?!1:(Co(n[zs])!=r&&lu(n,zs),!0)},Cr=No,gr=n=>os(n,En,We),En=(n,r)=>(!e||Me(D,r)||We(r))&&os(n,(l,i)=>Dt(r,i,l),()=>We(r)),Dt=(n,r,l,i)=>os(i?l:Vn(l,n,r),(d,y)=>Ae(mn(n,r,y,d),p=>(l[y]=p,!0),()=>!1),()=>We(n,r)),mn=(n,r,l,i)=>e?Ae(V(V(D,n),l),d=>Co(i)!=d[Xo]?We(n,r,l,i,d[zs]):i,()=>We(n,r,l,i)):pe(Co(i))?We(n,r,l,i):i,vn=(n,r)=>os(r?n:hr(n),(l,i)=>Ae(kn(i,l),d=>(n[i]=d,!0),()=>!1),()=>St()),kn=(n,r)=>t?Ae(V(b,n),l=>Co(r)!=l[Xo]?St(n,r,l[zs]):r,()=>St(n,r)):pe(Co(r))?St(n,r):r,Vn=(n,r,l)=>(Ae(V(P,r),([i,d])=>{O(i,(y,p)=>{Ro(n,p)||(n[p]=y)}),O(d,y=>{Ro(n,y)||We(r,l,y)})}),n),hr=n=>(t&&(O(oe,(r,l)=>{Ro(n,l)||(n[l]=r)}),O(ue,r=>{Ro(n,r)||St(r)})),n),An=n=>xs(D,n,(r,l,i)=>{const d=H(),y=at();xs(Ie(D,l,H),i,(p,k,_)=>{B(p,k,_),Ae(_[zs],de=>B(d,k,de),()=>nt(y,k))}),B(P,l,[d,y])},(r,l)=>{B(D,l),B(P,l)}),Pn=n=>xs(b,n,(r,l,i)=>{B(b,l,i),Ae(i[zs],d=>B(oe,l,d),()=>nt(ue,l))},(r,l)=>{B(b,l),B(oe,l),ys(ue,l)}),_n=n=>Et(n)?jt():Bt(n),Lr=([n,r])=>{(Et(n)?jt:Bt)(n),(Et(r)?Gt:Wt)(r)},Dn=n=>xs(E,n,(r,l,i)=>Nt(l,i),(r,l)=>zn(l)),Nt=(n,r)=>xs(Ie(E,n,()=>(Bn(n,1),B($e,n,iu()),B(X,n,H()),H())),r,(l,i,d)=>dt(n,l,i,d),(l,i)=>Un(n,l,i)),dt=(n,r,l,i,d)=>xs(Ie(r,l,()=>(Wn(n,l,1),H())),i,(y,p,k)=>As(n,l,y,p,k),(y,p)=>xn(n,r,l,y,p,d)),As=(n,r,l,i,d)=>{Me(l,i)||jn(n,r,i,1);const y=V(l,i);d!==y&&(Gn(n,r,i,y,d),B(l,i,d))},Nn=(n,r,l,i,d)=>Ae(V(r,l),y=>As(n,l,y,i,d),()=>dt(n,r,l,Vn({[i]:d},n,l))),Mn=n=>Et(n)?Gt():Wt(n),Fn=n=>xs(A,n,(r,l,i)=>Mt(l,i),(r,l)=>In(l)),Mt=(n,r)=>{Me(A,n)||On(n,1);const l=V(A,n);r!==l&&(Qn(n,l,r),B(A,n,r))},Hn=(n,r)=>{const[l]=V($e,n),i=l(r);return Me(V(E,n),i)?Hn(n,r):i},Ft=n=>V(E,n)??Nt(n,{}),zn=n=>Nt(n,{}),Un=(n,r,l)=>{const[,i]=V($e,n);i(l),dt(n,r,l,{},!0)},xn=(n,r,l,i,d,y)=>{var _;const p=V((_=V(P,n))==null?void 0:_[0],d);if(!pe(p)&&!y)return As(n,l,i,d,p);const k=de=>{Gn(n,l,de,V(i,de)),jn(n,l,de,-1),B(i,de)};pe(p)?k(d):st(i,k),G(i)&&(Wn(n,l,-1),G(B(r,l))&&(Bn(n,-1),B(E,n),B($e,n),B(X,n)))},In=n=>{const r=V(oe,n);if(!pe(r))return Mt(n,r);Qn(n,V(A,n)),On(n,-1),B(A,n)},Bn=(n,r)=>go(u,n,r),Wn=(n,r,l)=>go(Ie(S,n,H),r,l)&&B(f,n,Ie(f,n,()=>0)+l),jn=(n,r,l,i)=>{const d=V(X,n),y=V(d,l)??0;(y==0&&i==1||y==1&&i==-1)&&go(Ie($,n,H),l,i),B(d,l,y!=-i?y+i:null),go(Ie(Ie(C,n,H),r,H),l,i)},Gn=(n,r,l,i,d)=>{var y;Ie(Ie(Ie(g,n,H),r,H),l,()=>[i,0])[1]=d,(y=a[3])==null||y.call(a,n,r,l,d)},On=(n,r)=>go(T,n,r),Qn=(n,r,l)=>{var i;Ie(R,n,()=>[r,0])[1]=l,(i=a[4])==null||i.call(a,n,l)},We=(n,r,l,i,d)=>(Lc(Ie(Ie(Ie(w,n,H),r,H),l,()=>[]),i),d),St=(n,r,l)=>(Lc(Ie(v,n,()=>[]),r),l),Ht=(n,r,l)=>Ae(V(V(V(g,n),r),l),([i,d])=>[!0,i,d],()=>[!1,...ec(zt(n,r,l))]),Jn=n=>Ae(V(R,n),([r,l])=>[!0,r,l],()=>[!1,...ec(Ut(n))]),qn=n=>!G(w)&&!G(Fe[n])?O(n?Xr(w):w,(r,l)=>O(r,(i,d)=>O(i,(y,p)=>I(Fe[n],[l,d,p],y)))):0,Yn=n=>!G(v)&&!G(De[n])?O(n?ls(v):v,(r,l)=>I(De[n],[l],r)):0,ft=(n,r,l,i)=>{if(!G(n))return I(r,i,()=>Xe(n)),st(n,(d,y)=>I(l,[...i??[],d],y==1)),1},Kn=n=>{const r=xt();r!=s&&I(he[n],void 0,r);const l=G(Ce[n]),i=G(Z[n])&&G(se[n])&&G(ae[n])&&G(we[n])&&G(F[n])&&G(Y[n])&&G(fe[n])&&l&&G(ee[n])&&G(Le[n]),d=G(Te[n])&&G(Re[n])&&G(ne[n])&&G(M[n]);if(!i||!d){const y=n?[ls(u),ia($),ls(f),ia(S),Xr(C),Xr(g)]:[u,$,f,S,C,g];if(!i){ft(y[0],ee[n],Le[n]),O(y[1],(k,_)=>ft(k,F[n],Y[n],[_])),O(y[2],(k,_)=>{k!=0&&I(fe[n],[_],eo(_))});const p=at();O(y[3],(k,_)=>{ft(k,ae[n],we[n],[_])&&!l&&(I(Ce[n],[_,null]),nt(p,_))}),l||O(y[5],(k,_)=>{if(!Me(p,_)){const de=at();O(k,je=>O(je,([Ot,Qt],$t)=>Qt!==Ot?nt(de,$t):ys(je,$t))),O(de,je=>I(Ce[n],[_,je]))}}),O(y[4],(k,_)=>O(k,(de,je)=>ft(de,Z[n],se[n],[_,je])))}if(!d){let p;O(y[5],(k,_)=>{let de;O(k,(je,Ot)=>{let Qt;O(je,([$t,yo],Or)=>{yo!==$t&&(I(Te[n],[_,Ot,Or],yo,$t,Ht),p=de=Qt=1)}),Qt&&I(Re[n],[_,Ot],Ht)}),de&&I(ne[n],[_],Ht)}),p&&I(M[n],void 0,Ht)}}},Xn=n=>{const r=It();r!=o&&I(j[n],void 0,r);const l=G(W[n])&&G(be[n]),i=G(He[n])&&G(L[n]);if(!l||!i){const d=n?[ls(T),ls(R)]:[T,R];if(l||ft(d[0],W[n],be[n]),!i){let y;O(d[1],([p,k],_)=>{k!==p&&(I(He[n],[_],k,p,Jn),y=1)}),y&&I(L[n],void 0,Jn)}}},U=(n,...r)=>(Hs(()=>n(...yn(r,le))),ce),Tr=()=>[Ps(),Ns()],Ps=()=>Zo(E),ye=()=>Ws(E),Rr=n=>la(V(E,le(n))),Zn=n=>Ws(V(X,le(n))),eo=n=>Ha(V(E,le(n))),tt=n=>Ws(V(E,le(n))),_s=(n,r,l,i=0,d)=>yn($l(aa(Tf(V(E,le(n)),(y,p)=>[pe(r)?p:V(y,le(r)),p]),([y],[p])=>du(y,p)*(l?-1:1)),i,pe(d)?d:i+d),([,y])=>y),pr=(n,r)=>Xe(V(V(E,le(n)),le(r))),Ds=(n,r)=>Ws(V(V(E,le(n)),le(r))),zt=(n,r,l)=>V(V(V(E,le(n)),le(r)),le(l)),Ns=()=>Xe(A),Ms=()=>Ws(A),Ut=n=>V(A,le(n)),xt=()=>!G(E),to=n=>Me(E,le(n)),so=(n,r)=>Me(V(X,le(n)),le(r)),no=(n,r)=>Me(V(E,le(n)),le(r)),oo=(n,r,l)=>Me(V(V(E,le(n)),le(r)),le(l)),It=()=>!G(A),co=n=>Me(A,le(n)),wr=()=>nn(E),br=()=>nn(A),Er=()=>nn([E,A]),mr=()=>nn(D),vr=()=>nn(b),kr=()=>nn([D,b]),Vr=n=>U(()=>Cr(n)?Lr(n):0),Bt=n=>U(()=>gr(n)?Dn(n):0),Ar=(n,r)=>U(l=>En(r,l)?Nt(l,r):0,n),Pr=(n,r,l)=>U((i,d)=>Dt(i,d,l)?dt(i,Ft(i),d,l):0,n,r),_r=(n,r,l=!0)=>Hs(()=>{let i;return Dt(n,i,r)&&(n=le(n),dt(n,Ft(n),i=Hn(n,l?1:0),r)),i}),Dr=(n,r,l)=>U((i,d)=>{if(Dt(i,d,l,1)){const y=Ft(i);Yt(l,(p,k)=>Nn(i,y,d,k,p))}},n,r),Nr=(n,r,l,i)=>U((d,y,p)=>Ae(mn(d,y,p,fl(i)?i(zt(d,y,p)):i),k=>Nn(d,Ft(d),y,p,k)),n,r,l),Wt=n=>U(()=>vn(n)?Fn(n):0),Mr=n=>U(()=>vn(n,1)?Yt(n,(r,l)=>Mt(l,r)):0),Fr=(n,r)=>U(l=>Ae(kn(l,fl(r)?r(Ut(l)):r),i=>Mt(l,i)),n),Hr=n=>U(()=>{Yt(n[0],(r,l)=>pe(r)?io(l):Yt(r,(i,d)=>pe(i)?uo(l,d):Yt(i,(y,p)=>hl(ce,l,d,p,y)))),Yt(n[1],(r,l)=>Ll(ce,l,r))}),ro=n=>{try{_n(Zr(n))}catch{}return ce},zr=n=>{try{Mn(Zr(n))}catch{}return ce},Ur=n=>U(()=>{try{const[r,l]=Zr(n);_n(r),Mn(l)}catch{ro(n)}}),ao=n=>U(()=>{if((e=sn(n))&&(An(n),!G(E))){const r=Ps();jt(),Bt(r)}}),lo=n=>U(()=>{if(t=yr(n)){const r=Ns();Fs(),Gt(),t=!0,Pn(n),Wt(r)}}),xr=(n,r)=>U(()=>{ao(n),lo(r)}),jt=()=>U(()=>Dn({})),io=n=>U(r=>Me(E,r)?zn(r):0,n),uo=(n,r)=>U((l,i)=>Ae(V(E,l),d=>Me(d,i)?Un(l,d,i):0),n,r),Ir=(n,r,l,i)=>U((d,y,p)=>Ae(V(E,d),k=>Ae(V(k,y),_=>Me(_,p)?xn(d,k,y,_,p,i):0)),n,r,l),Gt=()=>U(()=>Fn({})),Br=n=>U(r=>Me(A,r)?In(r):0,n),So=()=>U(()=>{An({}),e=!1}),Fs=()=>U(()=>{Pn({}),t=!1}),Wr=()=>U(()=>{So(),Fs()}),Hs=(n,r)=>{if(c!=-1){fo();const l=n();return $o(r),l}},fo=()=>{var n;return c!=-1&&c++,c==1&&((n=a[0])==null||n.call(a),I(Ee)),ce},jr=()=>[Xe(g,(n,r)=>V(u,r)===-1?void 0:Xe(n,(l,i)=>V(V(S,r),i)===-1?void 0:Xe(l,([,d])=>d,d=>tc(d)),G,Et),G,Et),Xe(R,([,n])=>n,n=>tc(n)),1],Gr=()=>[!G(g),!G(R),Zo(g,Rl,tc),Zo(w),Xe(R,Rl,tc),Xe(v),Xe(u),la(S),Zo(C),Xe(T)],$o=n=>{var r,l;return c>0&&(c--,c==0&&(c=1,qn(1),G(g)||Kn(1),Yn(1),G(R)||Xn(1),n!=null&&n(ce)&&(O(g,(i,d)=>O(i,(y,p)=>O(y,([k],_)=>hl(ce,d,p,_,k)))),mo(g),O(R,([i],d)=>Ll(ce,d,i)),mo(R)),I(xe[0],void 0),c=-1,qn(0),G(g)||Kn(0),Yn(0),G(R)||Xn(0),(r=a[1])==null||r.call(a),I(xe[1],void 0),(l=a[2])==null||l.call(a),c=0,s=xt(),o=It(),Os([u,$,f,S,C,g,w,T,R,v],mo))),ce},ce={getContent:Tr,getTables:Ps,getTableIds:ye,getTable:Rr,getTableCellIds:Zn,getRowCount:eo,getRowIds:tt,getSortedRowIds:_s,getRow:pr,getCellIds:Ds,getCell:zt,getValues:Ns,getValueIds:Ms,getValue:Ut,hasTables:xt,hasTable:to,hasTableCell:so,hasRow:no,hasCell:oo,hasValues:It,hasValue:co,getTablesJson:wr,getValuesJson:br,getJson:Er,getTablesSchemaJson:mr,getValuesSchemaJson:vr,getSchemaJson:kr,hasTablesSchema:()=>e,hasValuesSchema:()=>t,setContent:Vr,setTables:Bt,setTable:Ar,setRow:Pr,addRow:_r,setPartialRow:Dr,setCell:Nr,setValues:Wt,setPartialValues:Mr,setValue:Fr,applyChanges:Hr,setTablesJson:ro,setValuesJson:zr,setJson:Ur,setTablesSchema:ao,setValuesSchema:lo,setSchema:xr,delTables:jt,delTable:io,delRow:uo,delCell:Ir,delValues:Gt,delValue:Br,delTablesSchema:So,delValuesSchema:Fs,delSchema:Wr,transaction:Hs,startTransaction:fo,getTransactionChanges:jr,getTransactionLog:Gr,finishTransaction:$o,forEachTable:n=>O(E,(r,l)=>n(l,i=>O(r,(d,y)=>i(y,p=>st(d,p))))),forEachTableCell:(n,r)=>st(V(X,le(n)),r),forEachRow:(n,r)=>O(V(E,le(n)),(l,i)=>r(i,d=>st(l,d))),forEachCell:(n,r,l)=>st(V(V(E,le(n)),le(r)),l),forEachValue:n=>st(A,n),addSortedRowIdsListener:(n,r,l,i,d,y,p)=>{let k=_s(n,r,l,i,d);return ze(()=>{const _=_s(n,r,l,i,d);ou(_,k)||(k=_,y(ce,n,r,l,i,d,k))},Ce[p?1:0],[n,r],[ye])},addStartTransactionListener:n=>ze(n,Ee),addWillFinishTransactionListener:n=>ze(n,xe[0]),addDidFinishTransactionListener:n=>ze(n,xe[1]),callListener:n=>(Oe(n),ce),delListener:n=>(ss(n),ce),getListenerStats:()=>({hasTables:me(he),tables:me(M),tableIds:me(ee),hasTable:me(Le),table:me(ne),tableCellIds:me(F),hasTableCell:me(Y,ln),rowCount:me(fe),rowIds:me(ae),sortedRowIds:me(Ce),hasRow:me(we,ln),row:me(Re,ln),cellIds:me(Z,ln),hasCell:me(se,Kr),cell:me(Te,Kr),invalidCell:me(Fe,Kr),hasValues:me(j),values:me(L),valueIds:me(W),hasValue:me(be),value:me(He),invalidValue:me(De),transaction:Oc(Ee)+me(xe)}),isMergeable:()=>!1,createStore:tn,addListener:ze,callListeners:I,setInternalListeners:(n,r,l,i,d)=>a=[n,r,l,i,d]};return Yt({[Us+ul]:[0,he,[],()=>[xt()]],[ul]:[0,M],[nf]:[0,ee],[Us+an]:[1,Le,[ye],n=>[to(...n)]],[an]:[1,ne,[ye]],[an+dl]:[1,F,[ye]],[Us+an+$c]:[2,Y,[ye,Zn],n=>[so(...n)]],[of]:[1,fe,[ye]],[cf]:[1,ae,[ye]],[Us+gc]:[2,we,[ye,tt],n=>[no(...n)]],[gc]:[2,Re,[ye,tt]],[dl]:[2,Z,[ye,tt]],[Us+$c]:[3,se,[ye,tt,Ds],n=>[oo(...n)]],[$c]:[3,Te,[ye,tt,Ds],n=>ec(zt(...n))],InvalidCell:[3,Fe],[Us+Sl]:[0,j,[],()=>[It()]],[Sl]:[0,L],[rf]:[0,W],[Us+hc]:[1,be,[Ms],n=>[co(...n)]],[hc]:[1,He,[Ms],n=>ec(Ut(n[0]))],InvalidValue:[1,De]},([n,r,l,i],d)=>{ce[sf+d+tf]=(...y)=>ze(y[n],r[y[n+1]?1:0],n>0?$l(y,0,n):void 0,l,i)}),au(ce)},js=new Z1({auth:localStorage.getItem("token")}),Su=()=>localStorage.getItem("token")!=null,Qc=6e4,un={per_page:100},Tc="",vt=e=>e==null,Mo=(e,t,s)=>vt(e)?s==null?void 0:s():t(e),da=e=>Array.isArray(e),Js=e=>e.length,kf=(e,t)=>e.test(t),fu=e=>{throw new Error(e)},Sa=(e,t)=>e.forEach(t),Vf=(e,t)=>e.splice(0,t),Ua=(e,...t)=>e.push(...t),$u=e=>e.shift(),Jc=Object,pl=e=>Jc.getPrototypeOf(e),Af=e=>!vt(e)&&Mo(pl(e),t=>t==Jc.prototype||vt(pl(t)),()=>!0),Pf=Jc.keys,_f=Jc.freeze,Df=e=>Js(Pf(e)),sc=e=>Af(e)&&Df(e)==0,Nf=e=>(e==null?void 0:e.size)??0,Mf=(e,t)=>(e==null?void 0:e.has(t))??!1,yu=e=>vt(e)||Nf(e)==0,Cu=(e,t)=>e==null?void 0:e.forEach(t),gu=(e,t)=>e==null?void 0:e.delete(t),Wo=e=>new Map(e),yt=(e,t)=>e==null?void 0:e.get(t),qs=(e,t,s)=>vt(s)?(gu(e,t),e):e==null?void 0:e.set(t,s),fa=(e,t,s,o)=>(Mf(e,t)?o==null||o(yt(e,t)):qs(e,t,s()),yt(e,t)),$a=(e,t,s,o,c=0)=>Mo((s?fa:yt)(e,t[c],c>Js(t)-2?s:Wo),a=>{if(c>Js(t)-2)return o!=null&&o(a)&&qs(e,t[c]),a;const u=$a(a,t,s,o,c+1);return yu(a)&&qs(e,t[c]),u}),Ff=e=>new Set(da(e)||vt(e)?e:[e]),Hf=(e,t)=>e==null?void 0:e.add(t),zf=/^\d+$/,Uf=()=>{const e=[];let t=0;return[s=>(s?$u(e):null)??Tc+t++,s=>{kf(zf,s)&&Js(e)<1e3&&Ua(e,s)}]},xf=(e,t=[Tc])=>{const s=[],o=(c,a)=>a==Js(t)?Ua(s,c):t[a]===null?Cu(c,u=>o(u,a+1)):Sa([t[a],null],u=>o(yt(c,u),a+1));return o(e,0),s},If=e=>{let t;const[s,o]=Uf(),c=Wo();return[(S,C,g,T=[],R=()=>[])=>{t??(t=e());const w=s(1);return qs(c,w,[S,C,g,T,R]),Hf($a(C,g??[Tc],Ff),w),w},(S,C,...g)=>Sa(xf(S,C),T=>Cu(T,R=>yt(c,R)[0](t,...C??[],...g))),S=>Mo(yt(c,S),([,C,g])=>($a(C,g??[Tc],void 0,T=>(gu(T,S),yu(T)?1:0)),qs(c,S),o(S),g)),S=>Mo(yt(c,S),([C,,g=[],T,R])=>{const w=(...v)=>{var P;const D=Js(v);D==Js(g)?C(t,...v,...R(v)):vt(g[D])?Sa(((P=T[D])==null?void 0:P.call(T,...v))??[],b=>w(...v,b)):w(...v,g[D])};w()})]},nc=Wo(),oc=Wo(),Bf=(e=1,t)=>e!=1&&t.isMergeable()?[1,t.getMergeableContent,t.getTransactionMergeableChanges,([[s],[o]])=>!sc(s)||!sc(o),t.setDefaultContent]:e!=2?[0,t.getContent,t.getTransactionChanges,([s,o])=>!sc(s)||!sc(o),t.setContent]:fu("Store type not supported by this Persister"),jo=(e,t,s,o,c,a,u,$={},f=[])=>{let S=0,C=0,g=0,T,R,w;fa(nc,f,()=>0),fa(oc,f,()=>[]);const v=Wo(),[D,P,b,oe,ue]=Bf(u,e),[$e,X,E]=If(()=>j),A=L=>{L!=S&&(S=L,X(v,void 0,S))},he=async()=>{if(!yt(nc,f)){for(qs(nc,f,1);!vt(T=$u(yt(oc,f)));)try{await T()}catch{}qs(nc,f,0)}},M=L=>{(D&&da(L==null?void 0:L[0])?(L==null?void 0:L[2])===1?e.applyMergeableChanges:e.setMergeableContent:(L==null?void 0:L[2])===1?e.applyChanges:e.setContent)(L)},ee=async L=>(S!=2&&(A(1),C++,await se(async()=>{try{const W=await t();da(W)?M(W):fu(`Content is not an array ${W}`)}catch{L&&ue(L)}A(0)})),j),Le=async L=>{await ne().load(L);try{R=await o(async(W,be)=>{be||W?S!=2&&(A(1),C++,M(be??W),A(0)):await ee()})}catch{}return j},ne=()=>(R&&(c(R),R=void 0),j),F=()=>!vt(R),Y=async L=>(S!=1&&(A(2),g++,await se(async()=>{try{await s(P,L)}catch{}A(0)})),j),fe=async()=>(await ae().save(),w=e.addDidFinishTransactionListener(()=>{const L=b();oe(L)&&Y(L)}),j),ae=()=>(Mo(w,e.delListener),w=void 0,j),Ce=()=>!vt(w),we=()=>S,Re=L=>$e(L,v),Z=L=>(E(L),e),se=async(...L)=>(Ua(yt(oc,f),...L),await he(),j),j={load:ee,startAutoLoad:Le,stopAutoLoad:ne,isAutoLoading:F,save:Y,startAutoSave:fe,stopAutoSave:ae,isAutoSaving:Ce,getStatus:we,addStatusListener:Re,delListener:Z,schedule:se,getStore:()=>e,destroy:()=>(Vf(yt(oc,f)),ne().stopAutoSave()),getStats:()=>({loads:C,saves:g}),...$};return _f(j)},Rc="",hu="￼",Wf=globalThis,wl=Wf.window,kt=e=>e==null,Fo=(e,t,s)=>kt(e)?s==null?void 0:s():t(e),ya=e=>Array.isArray(e),Ys=e=>e.length,jf=(e,t)=>e.test(t),Lu=e=>{throw new Error(e)},Ca=(e,t)=>e.forEach(t),Gf=(e,t)=>e.splice(0,t),xa=(e,...t)=>e.push(...t),Tu=e=>e.shift(),qc=Object,bl=e=>qc.getPrototypeOf(e),Of=e=>!kt(e)&&Fo(bl(e),t=>t==qc.prototype||kt(bl(t)),()=>!0),Qf=qc.keys,Jf=qc.freeze,qf=e=>Ys(Qf(e)),cc=e=>Of(e)&&qf(e)==0,Yf=JSON.stringify,Ru=JSON.parse,Kf=e=>Yf(e,(t,s)=>s===void 0?hu:s),Xf=e=>Ru(e,(t,s)=>s===hu?void 0:s),Zf=e=>(e==null?void 0:e.size)??0,e$=(e,t)=>(e==null?void 0:e.has(t))??!1,pu=e=>kt(e)||Zf(e)==0,wu=(e,t)=>e==null?void 0:e.forEach(t),bu=(e,t)=>e==null?void 0:e.delete(t),Go=e=>new Map(e),Ct=(e,t)=>e==null?void 0:e.get(t),Ks=(e,t,s)=>kt(s)?(bu(e,t),e):e==null?void 0:e.set(t,s),ga=(e,t,s,o)=>(e$(e,t)?o==null||o(Ct(e,t)):Ks(e,t,s()),Ct(e,t)),ha=(e,t,s,o,c=0)=>Fo((s?ga:Ct)(e,t[c],c>Ys(t)-2?s:Go),a=>{if(c>Ys(t)-2)return o!=null&&o(a)&&Ks(e,t[c]),a;const u=ha(a,t,s,o,c+1);return pu(a)&&Ks(e,t[c]),u}),t$=e=>new Set(ya(e)||kt(e)?e:[e]),s$=(e,t)=>e==null?void 0:e.add(t),n$=/^\d+$/,o$=()=>{const e=[];let t=0;return[s=>(s?Tu(e):null)??Rc+t++,s=>{jf(n$,s)&&Ys(e)<1e3&&xa(e,s)}]},c$=(e,t=[Rc])=>{const s=[],o=(c,a)=>a==Ys(t)?xa(s,c):t[a]===null?wu(c,u=>o(u,a+1)):Ca([t[a],null],u=>o(Ct(c,u),a+1));return o(e,0),s},r$=e=>{let t;const[s,o]=o$(),c=Go();return[(S,C,g,T=[],R=()=>[])=>{t??(t=e());const w=s(1);return Ks(c,w,[S,C,g,T,R]),s$(ha(C,g??[Rc],t$),w),w},(S,C,...g)=>Ca(c$(S,C),T=>wu(T,R=>Ct(c,R)[0](t,...C??[],...g))),S=>Fo(Ct(c,S),([,C,g])=>(ha(C,g??[Rc],void 0,T=>(bu(T,S),pu(T)?1:0)),Ks(c,S),o(S),g)),S=>Fo(Ct(c,S),([C,,g=[],T,R])=>{const w=(...v)=>{var P;const D=Ys(v);D==Ys(g)?C(t,...v,...R(v)):kt(g[D])?Ca(((P=T[D])==null?void 0:P.call(T,...v))??[],b=>w(...v,b)):w(...v,g[D])};w()})]},rc=Go(),ac=Go(),a$=(e=1,t)=>e!=1&&t.isMergeable()?[1,t.getMergeableContent,t.getTransactionMergeableChanges,([[s],[o]])=>!cc(s)||!cc(o),t.setDefaultContent]:e!=2?[0,t.getContent,t.getTransactionChanges,([s,o])=>!cc(s)||!cc(o),t.setContent]:Lu("Store type not supported by this Persister"),l$=(e,t,s,o,c,a,u,$={},f=[])=>{let S=0,C=0,g=0,T,R,w;ga(rc,f,()=>0),ga(ac,f,()=>[]);const v=Go(),[D,P,b,oe,ue]=a$(u,e),[$e,X,E]=r$(()=>j),A=L=>{L!=S&&(S=L,X(v,void 0,S))},he=async()=>{if(!Ct(rc,f)){for(Ks(rc,f,1);!kt(T=Tu(Ct(ac,f)));)try{await T()}catch{}Ks(rc,f,0)}},M=L=>{(D&&ya(L==null?void 0:L[0])?(L==null?void 0:L[2])===1?e.applyMergeableChanges:e.setMergeableContent:(L==null?void 0:L[2])===1?e.applyChanges:e.setContent)(L)},ee=async L=>(S!=2&&(A(1),C++,await se(async()=>{try{const W=await t();ya(W)?M(W):Lu(`Content is not an array ${W}`)}catch{L&&ue(L)}A(0)})),j),Le=async L=>{await ne().load(L);try{R=await o(async(W,be)=>{be||W?S!=2&&(A(1),C++,M(be??W),A(0)):await ee()})}catch{}return j},ne=()=>(R&&(c(R),R=void 0),j),F=()=>!kt(R),Y=async L=>(S!=1&&(A(2),g++,await se(async()=>{try{await s(P,L)}catch{}A(0)})),j),fe=async()=>(await ae().save(),w=e.addDidFinishTransactionListener(()=>{const L=b();oe(L)&&Y(L)}),j),ae=()=>(Fo(w,e.delListener),w=void 0,j),Ce=()=>!kt(w),we=()=>S,Re=L=>$e(L,v),Z=L=>(E(L),e),se=async(...L)=>(xa(Ct(ac,f),...L),await he(),j),j={load:ee,startAutoLoad:Le,stopAutoLoad:ne,isAutoLoading:F,save:Y,startAutoSave:fe,stopAutoSave:ae,isAutoSaving:Ce,getStatus:we,addStatusListener:Re,delListener:Z,schedule:se,getStore:()=>e,destroy:()=>(Gf(Ct(ac,f)),ne().stopAutoSave()),getStats:()=>({loads:C,saves:g}),...$};return Jf(j)},El="storage",i$=(e,t,s,o)=>l$(e,async()=>Xf(s.getItem(t)),async f=>s.setItem(t,Kf(f())),f=>{const S=C=>{if(C.storageArea===s&&C.key===t)try{f(Ru(C.newValue))}catch{f()}};return wl.addEventListener(El,S),S},f=>wl.removeEventListener(El,f),o,3,{getStorageName:()=>t}),Oo=(e,t,s)=>i$(e,t,localStorage,s),La="user",u$={name:{type:"string"},avatarUrl:{type:"string"}},{useCreateStore:d$,useProvideStore:S$,useCreatePersister:ml,useValue:f$,useSetValueCallback:jh}=Rn,Ta=e=>f$(e,La),$$=()=>{const e=d$(()=>tn().setValuesSchema(u$));return ml(e,t=>Oo(t,La),[],async t=>{await t.startAutoLoad(),await t.startAutoSave()}),ml(e,y$,[],async t=>{await(t==null?void 0:t.load())},[]),S$(La,e),null},y$=e=>jo(e,async()=>{if(Su()){const t=await js.rest.users.getAuthenticated();if(t.status==200){const{name:s,login:o,avatar_url:c}=t.data;return[{},{name:s??o,avatarUrl:c}]}}return[{},{}]},async()=>{},t=>setInterval(t,Qc),t=>clearInterval(t)),Ia="view",C$={repoId:{type:"string",default:""},issueId:{type:"string",default:""}},{useCreateStore:g$,useProvideStore:h$,useCreatePersister:L$,useValue:T$,useSetValueCallback:R$}=Rn,hs=e=>T$(e,Ia),Yc=(e,t,s)=>R$(e,t,s,Ia),p$=()=>{const e=g$(()=>tn().setValuesSchema(C$));return L$(e,t=>jo(t,async()=>{const[s,o,c]=location.hash.slice(1).split("/");return[{},{repoId:s&&o?s+"/"+o:"",issueId:c}]},async s=>{const{repoId:o,issueId:c}=s()[1];location.hash=o+"/"+c},s=>{const o=()=>s();return window.addEventListener("hashchange",o),o},s=>window.removeEventListener("hashchange",s)),[],async t=>{await t.startAutoLoad(),await t.startAutoSave()}),h$(Ia,e),null};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Eu=(...e)=>e.filter((t,s,o)=>!!t&&o.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=$s.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:a,iconNode:u,...$},f)=>$s.createElement("svg",{ref:f,...b$,width:t,height:t,stroke:e,strokeWidth:o?Number(s)*24/Number(t):s,className:Eu("lucide",c),...$},[...u.map(([S,C])=>$s.createElement(S,C)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(e,t)=>{const s=$s.forwardRef(({className:o,...c},a)=>$s.createElement(E$,{ref:a,iconNode:t,className:Eu(`lucide-${w$(e)}`,o),...c}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=ct("ArchiveX",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"m9.5 17 5-5",key:"nakeu6"}],["path",{d:"m9.5 12 5 5",key:"1hccrj"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=ct("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=ct("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=ct("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=ct("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=ct("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ct("GitFork",[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ct("GitPullRequest",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21",key:"rroup"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=ct("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=ct("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var vu={exports:{}},Xc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M$=$s,F$=Symbol.for("react.element"),H$=Symbol.for("react.fragment"),z$=Object.prototype.hasOwnProperty,U$=M$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x$={key:!0,ref:!0,__self:!0,__source:!0};function ku(e,t,s){var o,c={},a=null,u=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(o in t)z$.call(t,o)&&!x$.hasOwnProperty(o)&&(c[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)c[o]===void 0&&(c[o]=t[o]);return{$$typeof:F$,type:e,key:a,ref:u,props:c,_owner:U$.current}}Xc.Fragment=H$;Xc.jsx=ku;Xc.jsxs=ku;vu.exports=Xc;var ea=vu.exports;const I$="#181717",B$=$s.forwardRef(function({title:t="GitHub",color:s="currentColor",size:o=24,...c},a){return s==="default"&&(s=I$),ea.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:o,height:o,fill:s,viewBox:"0 0 24 24",ref:a,...c,children:[ea.jsx("title",{children:t}),ea.jsx("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})]})});var W$="zhil3w0";const j$=()=>location.assign("auth.html"),G$=()=>location.assign("auth.html?logout"),Vu=()=>{const e=Ta("name"),t=Ta("avatarUrl");return e?z.createElement("div",{className:W$},t?z.createElement(J1,{variant:"avatar",src:t,alt:e}):null,z.createElement(Sn,{onClick:G$,icon:_$,title:"Logout"})):z.createElement(Sn,{onClick:j$,icon:B$,title:"Login",variant:"accent"})};var O$="_1ul10dk0",Q$="_1ul10dk1";const{createElement:m,Fragment:Au,useEffect:Pu,useRef:_u,useState:Gh}=z,Du={behavior:"instant",block:"nearest"},yc=e=>e<1e3?e:(e/1e3).toFixed(e<1e4?1:0)+(e<1e3?"":"k"),pc=e=>new Date(e).toLocaleDateString(),wc="settings",J$={reposSortCell:{type:"string",default:"stars"},issuesSortCell:{type:"string",default:"updatedAt"}},{useCreateStore:q$,useProvideStore:Y$,useCreatePersister:K$,useValue:X$,useSetValueCallback:Z$}=Rn,Zc=e=>X$(e,wc),Nu=(e,t,s)=>Z$(e,t,s,wc),ey=()=>{const e=q$(()=>tn().setValuesSchema(J$));return K$(e,t=>Oo(t,wc),[],async t=>{await t.startAutoLoad(),await t.startAutoSave()}),Y$(wc,e),null},pa="repos",Mu="repos",Wa="repos",ja="reposByGroup",Fu="repos",ty={repos:{group:{type:"string",default:""},owner:{type:"string",default:""},name:{type:"string",default:""},createdAt:{type:"string",default:""},fork:{type:"boolean",default:!1},forksCount:{type:"number",default:0},openIssuesCount:{type:"number",default:0},stargazersCount:{type:"number",default:0},updatedAt:{type:"string",default:""}}},{useCell:sy,useCreatePersister:vl,useCreateStore:ny,useProvideStore:oy,useCreateIndexes:cy,useProvidePersister:ry,useProvideIndexes:ay,useSliceRowIds:ly,usePersisterStatus:iy,useSliceIds:uy}=Rn,Cc=(e,t)=>sy(Mu,e,t,pa),dy=()=>uy(ja,Wa),Sy=e=>ly(ja,e,Wa),fy=()=>iy(Fu),$y=()=>{const e=ny(()=>tn().setTablesSchema(ty));oy(pa,e);const t=Zc("reposSortCell"),s=t=="name"||t=="fork"?1:-1,o=cy(e,a=>mf(a).setIndexDefinition(ja,Mu,"group",t,void 0,(u,$)=>(u>$?1:-1)*s),[t]);ay(Wa,o),vl(e,a=>Oo(a,pa),[],async a=>{await a.startAutoLoad(),await a.startAutoSave()});const c=vl(e,a=>yy(a),[],async a=>{await(a==null?void 0:a.load())},[]);return ry(Fu,c),null},yy=e=>jo(e,async()=>{if(Su()){const t={},s=({full_name:o,owner:c,name:a,created_at:u,fork:$,forks_count:f,open_issues_count:S,stargazers_count:C,updated_at:g},T=c.login)=>{t[o]={group:T,owner:c.login,name:a,createdAt:u??"",fork:$,forksCount:f??0,openIssuesCount:S??0,stargazersCount:C??0,updatedAt:g??""}};return(await js.rest.activity.listReposStarredByAuthenticatedUser(un)).data.forEach(o=>s(o,"Starred")),(await js.rest.repos.listForAuthenticatedUser(un)).data.forEach(o=>s(o)),await Promise.all((await js.rest.orgs.listForAuthenticatedUser(un)).data.map(async({login:o})=>{(await js.rest.repos.listForOrg({org:o,...un})).data.forEach(a=>s(a))})),[{repos:t},{}]}return[{},{}]},async()=>{},t=>setInterval(t,Qc),t=>clearInterval(t)),on=({repoId:e,isCurrent:t=!1,hardcodedName:s})=>{const o=Yc("repoId",()=>e,[e]),c=_u(null);Pu(()=>{var $;t&&(($=c.current)==null||$.scrollIntoView(Du))},[t]);const a=Cc(e,"name"),u=Cc(e,"stargazersCount");return m(Sn,{variant:"item",ref:c,onClick:o,icon:Cc(e,"fork")?Ra:k$,title:s??a,titleRight:s?null:m(Ss,{icon:Ba,title:yc(u)}),current:t})},Cy=()=>m(fs,{className:O$},m("img",{src:"/favicon.svg",alt:"TinyHub logo",className:Q$}),m("h2",null,"Welcome to TinyHub"),m("p",null,"Navigate to your own repos from the sidebar, or go directly to one of the popular ones below."),m(fn,null),m(on,{repoId:"facebook/react",hardcodedName:"React"}),m(on,{repoId:"vuejs/vue",hardcodedName:"Vue"}),m(on,{repoId:"tensorflow/tensorflow",hardcodedName:"TensorFlow"}),m(on,{repoId:"torvalds/linux",hardcodedName:"Linux"}),m(on,{repoId:"ohmyzsh/ohmyzsh",hardcodedName:"Oh My Zsh"})),Ho=e=>typeof e,gy="tinybase",Ls="",hy=Ho(Ls),Ly=Ho(Ho),Hu="Listener",er="Result",Ty="get",Ry="add",py="Has",wy="has",Qo="Ids",Ga="Table",by=Ga+Qo,Oa="Row",zu=Oa+"Count",Uu=Oa+Qo,xu="Sorted"+Oa+Qo,tr="Cell",Iu=tr+Qo,sr="Value",Ey=sr+"s",my=sr+Qo,vy=globalThis,Cn=e=>e==null,bc=(e,t,s)=>Cn(e)?s==null?void 0:s():t(e),Bu=e=>Ho(e)==hy,Wu=e=>Ho(e)==Ly,ky=e=>Array.isArray(e),Ec=e=>e.length,Vy=()=>{},Ay=(e,t)=>Qa(new Array(e).fill(0),(s,o)=>t(o)),ju=(e,t)=>e.every(t),ta=(e,t)=>Ec(e)===Ec(t)&&ju(e,(s,o)=>t[o]===s),Qa=(e,t)=>e.map(t),Py=(e,t)=>e.filter(t),kl=(e,t,s)=>e.with(t,s),nr=Object,Vl=e=>nr.getPrototypeOf(e),_y=nr.entries,Al=e=>!Cn(e)&&bc(Vl(e),t=>t==nr.prototype||Cn(Vl(t)),()=>!0),Gu=nr.keys,Ou=(e,t)=>bc(e,s=>s[t]),Qu=(e,t)=>t in e,Dy=(e,t)=>(delete e[t],e),Ny=e=>Ec(Gu(e)),Ju=(e,t)=>{const s=_y(e);return Ec(s)===Ny(t)&&ju(s,([o,c])=>Al(c)?Al(t[o])?Ju(t[o],c):!1:t[o]===c)},My=(e,t,s)=>(Qu(e,t)||(e[t]=s()),e[t]),{createContext:Fy,useContext:qu,useEffect:Oh}=z;var qt=(e=>(e[e.Store=0]="Store",e[e.Metrics=1]="Metrics",e[e.Indexes=2]="Indexes",e[e.Relationships=3]="Relationships",e[e.Queries=4]="Queries",e[e.Checkpoints=5]="Checkpoints",e[e.Persister=6]="Persister",e[e.Synchronizer=7]="Synchronizer",e))(qt||{});const mc=My(vy,gy+"_uirc",()=>Fy([])),pn=(e,t)=>{const s=qu(mc);return Cn(e)?s[t*2]:Bu(e)?Ou(s[t*2+1]??{},e):e},Jo=(e,t)=>{const s=pn(e,t);return Cn(e)||Bu(e)?s:e},qo=e=>Gu(qu(mc)[e*2+1]??{}),Hy=()=>qo(0),Yu=e=>pn(e,0),ut=e=>Jo(e,0),zy=()=>qo(1),Ku=e=>pn(e,1),Xu=e=>Jo(e,1),Uy=()=>qo(2),Zu=e=>pn(e,2),or=e=>Jo(e,2),xy=()=>qo(3),e1=e=>pn(e,3),Ja=e=>Jo(e,3),Iy=()=>qo(4),t1=e=>pn(e,4),Yo=e=>Jo(e,4),s1=e=>e.toLowerCase();s1(Hu);const By="Transaction";s1(By);const{useCallback:wa,useEffect:Pl,useMemo:Wy,useLayoutEffect:Qh,useRef:jy,useState:_l,useSyncExternalStore:Gy}=z,Xt=[],Dl=[{},[],[Xt,void 0,Xt],void 0,!1,0],Oy=[Ju,ta,([e,t,s],[o,c,a])=>t===c&&ta(e,o)&&ta(s,a)],Qy=(e,t)=>e===t,Jy=(e,t,...s)=>{var c;const o=(c=e==null?void 0:e[Ry+t+Hu])==null?void 0:c.call(e,...s);return()=>e==null?void 0:e.delListener(o)},_e=(e,t,s,o=Xt)=>{const c=jy(Dl[s]),a=wa(()=>{var f;const $=((f=t==null?void 0:t[(s==4?wy:Ty)+e])==null?void 0:f.call(t,...o))??Dl[s];return(Oy[s]??Qy)($,c.current)?c.current:c.current=$},[t,s,e,...o]),u=wa($=>Jy(t,(s==4?py:Ls)+e,...o,$),[t,s,e,...o]);return Gy(u,a,a)},n1=(e,t,s,o=Xt,c=Vy,a=Xt,...u)=>{const $=ut(e);return wa(f=>bc($,S=>bc(s(f,S),C=>c(S["set"+t](...qy(u,S,f),C),C))),[$,t,...o,...a,...Yy(u)])},qy=(e,t,s)=>Qa(e,o=>Wu(o)?o(s,t):o),Yy=e=>Py(e,t=>!Wu(t)),Ky=(e,t=Xt)=>Wy(e,t),Xy=e=>_e(by,ut(e),1),qa=(e,t)=>_e(Ga+Iu,ut(t),1,[e]),Zy=(e,t)=>_e(zu,ut(t),5,[e]),eC=(e,t)=>_e(Uu,ut(t),1,[e]),tC=(e,t,s,o=0,c,a)=>_e(xu,ut(a),1,[e,t,s,o,c]),wn=(e,t,s,o)=>_e(tr,ut(o),3,[e,t,s]),sC=e=>_e(Ey,ut(e),0),o1=e=>_e(my,ut(e),1),Xs=(e,t)=>_e(sr,ut(t),3,[e]),cr=(e,t,s,o,c,a,u,$)=>n1(a,tr,o,c,u,$,e,t,s),vc=(e,t,s,o,c,a)=>n1(o,sr,t,s,c,a,e),nC=e=>_e("MetricIds",Xu(e),1),oC=(e,t)=>_e("Metric",Xu(t),3,[e]),cC=(e,t)=>_e("SliceIds",or(t),1,[e]),rC=e=>_e("IndexIds",or(e),1),aC=(e,t,s)=>_e("Slice"+Uu,or(s),1,[e,t]),lC=e=>_e("RelationshipIds",Ja(e),1),iC=(e,t,s)=>_e("RemoteRowId",Ja(s),3,[e,t]),uC=e=>_e("QueryIds",Yo(e),1),dC=(e,t)=>_e(er+Ga+Iu,Yo(t),1,[e]),SC=(e,t)=>_e(er+zu,Yo(t),5,[e]),fC=(e,t,s,o=0,c,a)=>_e(er+xu,Yo(a),1,[e,t,s,o,c]),$C=(e,t,s,o)=>_e(er+tr,Yo(o),3,[e,t,s]),yC=(e,t,s=Xt,o,c=Xt,a,u=Xt)=>{const[,$]=_l(),[f,S]=_l();return Pl(()=>{(async()=>{const C=e?await t(e):void 0;S(C),C&&o&&(async()=>(await o(C),$([])))()})()},[e,...s,...c]),Pl(()=>()=>{f&&f.destroy()},[f,...u]),f},{PureComponent:Jh,Fragment:qh,createElement:CC,useCallback:Yh,useLayoutEffect:Kh,useRef:Xh,useState:Zh}=z,{useCallback:Nl,useContext:gC,useMemo:hC,useState:LC}=z,cs=(e,t,s,o,c)=>[s??t[e*2],{...t[e*2+1],...o,...c[e]}],TC=({store:e,storesById:t,metrics:s,metricsById:o,indexes:c,indexesById:a,relationships:u,relationshipsById:$,queries:f,queriesById:S,checkpoints:C,checkpointsById:g,persister:T,persistersById:R,synchronizer:w,synchronizersById:v,children:D})=>{const P=gC(mc),[b,oe]=LC(()=>Ay(8,()=>({}))),ue=Nl((X,E,A)=>oe(he=>Ou(he[X],E)==A?he:kl(he,X,{...he[X],[E]:A})),[]),$e=Nl((X,E)=>oe(A=>Qu(A[X],E)?kl(A,X,Dy(A[X],E)):A),[]);return CC(mc.Provider,{value:hC(()=>[...cs(qt.Store,P,e,t,b),...cs(qt.Metrics,P,s,o,b),...cs(qt.Indexes,P,c,a,b),...cs(qt.Relationships,P,u,$,b),...cs(qt.Queries,P,f,S,b),...cs(qt.Checkpoints,P,C,g,b),...cs(qt.Persister,P,T,R,b),...cs(qt.Synchronizer,P,w,v,b),ue,$e],[b,e,t,s,o,c,a,u,$,f,S,C,g,T,R,w,v,P,ue,$e])},D)},Ya=(e,t,s,o)=>{const c=Cn(t)||!ky(e)?e:Qa(e,(a,u)=>u>0?[t,a]:a);return s?[o,":{",c,"}"]:c},Ka=({tableId:e,rowId:t,cellId:s,store:o,debugIds:c})=>Ya(Ls+(wn(e,t,s,o)??Ls),void 0,c,s),RC=({valueId:e,store:t,debugIds:s})=>Ya(Ls+(Xs(e,t)??Ls),void 0,s,e),pC=({queryId:e,rowId:t,cellId:s,queries:o,debugIds:c})=>Ya(Ls+($C(e,t,s,o)??Ls),void 0,c,s),Ts=e=>typeof e,es="",rr=Ts(es),c1=Ts(!0),ar=Ts(0),wC=Ts(Ts),lc="type",rt="default",bC="Listener",EC="add",Is="Has",lr="Ids",Gs="Table",Ml=Gs+"s",mC=Gs+lr,kc="Row",vC=kc+"Count",kC=kc+lr,vo="Cell",Fl=vo+lr,gn="Value",ba=gn+"s",VC=gn+lr,dn="currentTarget",Hl="value",r1="￼",Se=e=>es+e,AC=globalThis,zl=AC.window,a1=Math,PC=a1.min,Ul=a1.floor,_C=isFinite,DC=(e,t)=>e instanceof t,te=e=>e==null,Ne=(e,t,s)=>te(e)?s==null?void 0:s():t(e),l1=e=>e==rr||e==c1,NC=e=>Ts(e)==rr,xl=e=>Ts(e)==wC,zo=e=>Array.isArray(e),Il=(e,t,s)=>e.slice(t,s),At=e=>e.length,MC=(e,t)=>e.test(t),i1=e=>{throw new Error(e)},{PureComponent:FC,Fragment:HC,createElement:h,useCallback:u1,useLayoutEffect:zC,useRef:Bl,useState:UC}=z,Xa=(e,...t)=>te(e)?{}:e(...t),xC=(e,t)=>[e,e==null?void 0:e.getStore(),e==null?void 0:e.getLocalTableId(t),e==null?void 0:e.getRemoteTableId(t)],IC=(e,t)=>[e,e==null?void 0:e.getStore(),e==null?void 0:e.getTableId(t)],BC=(e,t)=>e.includes(t),WC=(e,t)=>e.every(t),jC=(e,t)=>At(e)===At(t)&&WC(e,(s,o)=>t[o]===s),d1=(e,t)=>e.sort(t),Vc=(e,t)=>e.forEach(t),GC=(e,t=es)=>e.join(t),Pe=(e,t)=>e.map(t),mt=e=>At(e)==0,OC=(e,t,s)=>e.reduce(t,s),QC=(e,t)=>e.splice(0,t),Uo=(e,...t)=>e.push(...t),S1=e=>e.shift(),Vs=Object,Wl=e=>Vs.getPrototypeOf(e),JC=Vs.entries,qC=Vs.isFrozen,f1=e=>!te(e)&&Ne(Wl(e),t=>t==Vs.prototype||te(Wl(t)),()=>!0),YC=Vs.keys,$1=Vs.freeze,ko=(e=[])=>Vs.fromEntries(e),po=(e,t)=>t in e,y1=(e,t)=>(delete e[t],e),Ke=(e,t)=>Pe(JC(e),([s,o])=>t(o,s)),KC=(e,t)=>ko(Ke(e,(s,o)=>[o,t(s,o)])),XC=e=>At(YC(e)),et=e=>f1(e)&&XC(e)==0,rs=(e,t,s,o=0)=>te(e)||!f1(e)||!o&&et(e)||qC(e)?(s==null||s(),!1):(Ke(e,(c,a)=>{t(c,a)||y1(e,a)}),o?!0:!et(e)),C1=JSON.stringify,Qs=JSON.parse,Kt=e=>C1(e,(t,s)=>DC(s,Map)?Vs.fromEntries([...s]):s),ZC=e=>C1(e,(t,s)=>s===void 0?r1:s),eg=e=>Qs(e,(t,s)=>s===r1?void 0:s),Ac="tinybaseInspector",Ea="TinyBase Inspector",g1=["left","top","bottom","right","full"],Rs="state",Pc="sort",ma="open",_c="position",Dc=ma,jl="editable",wt=(...e)=>Kt(e),ir=(e,t)=>Pe(d1([...e]),t),ur=(e,t)=>[!!wn(Rs,e,jl,t),u1(s=>{t.setCell(Rs,e,jl,o=>!o),s.preventDefault()},[t,e])];var tg="data:image/svg+xml,%3csvg viewBox='0 0 680 680' xmlns='http://www.w3.org/2000/svg' style='width:680px%3bheight:680px'%3e %3cpath stroke='white' stroke-width='80' fill='none' d='M340 617a84 241 90 11.01 0zM131 475a94 254 70 10428-124 114 286 70 01-428 124zm0-140a94 254 70 10428-124 114 286 70 01-428 124zm-12-127a94 254 70 00306 38 90 260 90 01-306-38zm221 3a74 241 90 11.01 0z' /%3e %3cpath fill='%23d81b60' d='M131 475a94 254 70 10428-124 114 286 70 01-428 124zm0-140a94 254 70 10428-124 114 286 70 01-428 124z' /%3e %3cpath d='M249 619a94 240 90 00308-128 114 289 70 01-308 128zM119 208a94 254 70 00306 38 90 260 90 01-306-38zm221 3a74 241 90 11.01 0z' /%3e%3c/svg%3e";const h1="M20 80l5-15l40-40l10 10l-40 40l-15 5m5-15l10 10",L1='content:url("',T1='")',dr=L1+"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' stroke-width='4' stroke='white' fill='none'>",Sr="</svg>"+T1,Gl=L1+tg+T1,sg=Pe([[20,20,20,60],[20,20,60,20],[20,60,60,20],[60,20,20,60],[30,30,40,40]],([e,t,s,o])=>dr+`<rect x='20' y='20' width='60' height='60' fill='grey'/><rect x='${e}' y='${t}' width='${s}' height='${o}' fill='white'/>`+Sr),ng=dr+"<path d='M20 20l60 60M20 80l60-60' />"+Sr,og=dr+`<path d='${h1}' />`+Sr,cg=dr+`<path d='${h1}M20 20l60 60' />`+Sr,ho="*::-webkit-scrollbar",rg=GC(Ke({"":"all:initial;font-family:sans-serif;font-size:0.75rem;position:fixed;z-index:999999","*":"all:revert","*::before":"all:revert","*::after":"all:revert",[ho]:"width:0.5rem;height:0.5rem;",[ho+"-track"]:"background:#111",[ho+"-thumb"]:"background:#999;border:1px solid #111",[ho+"-thumb:hover"]:"background:#fff",[ho+"-corner"]:"background:#111",img:"width:1rem;height:1rem;background:#111;border:0;vertical-align:text-bottom",">img":"padding:0.25rem;bottom:0;right:0;position:fixed;"+Gl,...ko(Pe(["bottom:0;left:0","top:0;right:0"],(e,t)=>[`>img[data-position='${t}']`,e])),main:"display:flex;flex-direction:column;background:#111d;color:#fff;position:fixed;",...ko(Pe(["bottom:0;left:0;width:35vw;height:100vh","top:0;right:0;width:100vw;height:30vh","bottom:0;left:0;width:100vw;height:30vh","top:0;right:0;width:35vw;height:100vh","top:0;right:0;width:100vw;height:100vh"],(e,t)=>[`main[data-position='${t}']`,e])),header:"display:flex;padding:0.25rem;background:#000;align-items:center","header>img:nth-of-type(1)":Gl,"header>img:nth-of-type(6)":ng,...ko(Pe(sg,(e,t)=>[`header>img[data-id='${t}']`,e])),"header>span":"flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-left:0.25rem",article:"padding:0.25rem 0.25rem 0.25rem 0.5rem;overflow:auto;flex:1",details:"margin-left:0.75rem;width:fit-content;","details img":"display:none","details[open]>summary img":"display:unset;background:none;margin-left:0.25rem","details[open]>summary img.edit":og,"details[open]>summary img.done":cg,summary:"margin-left:-0.75rem;line-height:1.25rem;user-select:none;width:fit-content",table:"border-collapse:collapse;table-layout:fixed;margin-bottom:0.5rem","table input":"background:#111;color:unset;padding:0 0.25rem;border:0;font-size:unset;vertical-align:top;margin:0",'table input[type="number"]':"width:4rem","table tbody button":"font-size:0;background:#fff;border-radius:50%;margin:0 0.125rem 0 0;width:0.85rem;color:#111","table button:first-letter":"font-size:0.75rem",thead:"background:#222","th:nth-of-type(1)":"min-width:2rem;","th.sorted":"background:#000","table caption":"text-align:left;white-space:nowrap;line-height:1.25rem",button:"width:1.5rem;border:none;background:none;color:#fff;padding:0","button[disabled]":"color:#777","button.next":"margin-right:0.5rem",[`th,#${Ac} td`]:"overflow:hidden;text-overflow:ellipsis;padding:0.25rem 0.5rem;max-width:12rem;white-space:nowrap;border-width:1px 0;border-style:solid;border-color:#777;text-align:left","span.warn":"margin:0.25rem;color:#d81b60"},(e,t)=>e?`#${Ac} ${t}{${e}}`:"")),ag=({s:e})=>{const t=Xs(_c,e)??1,s=vc(Dc,()=>!0,[],e);return Xs(Dc,e)?null:h("img",{onClick:s,title:Ea,"data-position":t})},bt=({uniqueId:e,summary:t,editable:s,handleEditable:o,children:c,s:a})=>{const u=!!wn(Rs,e,ma,a),$=cr(Rs,e,ma,f=>f[dn].open,[],a);return h("details",{open:u,onToggle:$},h("summary",null,t,o?h("img",{onClick:o,className:s?"done":"edit"}):null),c)},cn=e=>{const t=Ts(e);return l1(t)||t==ar&&_C(e)?t:void 0},Ol=(e,t,s,o,c)=>te(c)?e.delCell(t,s,o,!0):e.setCell(t,s,o,c),Ql=(e,t,s)=>te(s)?e.delValue(t):e.setValue(t,s),sa=(e,t,s,o)=>e==rr?t:e==ar?s:o,{useCallback:is,useMemo:Ko,useState:rn}=z,R1=".",p1="editable",lg="←",ig="↑",ug="→",dg="↓",Jl=(e,t)=>Pe(qa(e,t),s=>e+R1+s),Nc=(e,t,s)=>{const o=is(e,t);return s?o:void 0},fr=(...e)=>Ko(()=>e,e),w1=(e,t)=>Ko(()=>({store:e,tableId:t}),[e,t]),Sg=(e,t)=>Ko(()=>({queries:e,queryId:t}),[e,t]),b1=(e,t=!1,s,o=0,c,a,u,$)=>{const[[f,S,C],g]=rn([e,t,o]),T=is(D=>{g(D),$==null||$(D)},[$]),R=Nc(D=>T([D,D==f?!S:!1,C]),[T,f,S,C],s),w=is(D=>T([f,S,D]),[T,f,S]),v=u===!0?Tg:u;return[[f,S,C],R,Ko(()=>u===!1?null:h(v,{offset:C,limit:c,total:a,onChange:w}),[u,v,C,c,a,w])]},$r=(e,t,s)=>Ko(()=>{const o=t??e;return KC(zo(o)?ko(Pe(o,c=>[c,c])):o,(c,a)=>({label:a,component:s,...NC(c)?{label:c}:c}))},[t,s,e]),Za=({className:e,headerRow:t,idColumn:s,params:[o,c,a,u,$,f]})=>h("table",{className:e},f?h("caption",null,f):null,t===!1?null:h("thead",null,h("tr",null,s===!1?null:h(ql,{sort:u??[],label:"Id",onClick:$}),Ke(o,({label:S},C)=>h(ql,{key:C,cellId:C,label:S,sort:u??[],onClick:$})))),h("tbody",null,Pe(a,S=>h("tr",{key:S},s===!1?null:h("th",null,S),Ke(o,({component:C,getComponentProps:g},T)=>h("td",{key:T},h(C,{...Xa(g,S,T),...c,rowId:S,cellId:T}))))))),ql=({cellId:e,sort:[t,s],label:o=e??es,onClick:c})=>h("th",{onClick:Nc(()=>c==null?void 0:c(e),[c,e],c),className:te(s)||t!=e?void 0:`sorted ${s?"de":"a"}scending`},te(s)||t!=e?null:(s?dg:ig)+" ",o),fg=({localRowId:e,params:[t,s,o,c,a,u,$]})=>{const f=iC(a,e,u);return h("tr",null,t===!1?null:h(z.Fragment,null,h("th",null,e),h("th",null,f)),Ke(s,({component:S,getComponentProps:C},g)=>{const[T,R]=g.split(R1,2),w=T===o?e:T===c?f:null;return te(w)?null:h("td",{key:g},h(S,{...Xa(C,w,R),store:$,tableId:T,rowId:w,cellId:R}))}))},E1=({thing:e,onThingChange:t,className:s,hasSchema:o,showType:c=!0})=>{const[a,u]=rn(),[$,f]=rn(),[S,C]=rn(),[g,T]=rn(),[R,w]=rn();$!==e&&(u(cn(e)),f(e),C(String(e)),T(Number(e)||0),w(!!e));const v=is((P,b)=>{b(P),f(P),t(P)},[t]),D=is(()=>{if(!(o!=null&&o())){const P=sa(a,ar,c1,rr),b=sa(P,S,g,R);u(P),f(b),t(b)}},[o,t,S,g,R,a]);return h("div",{className:s},c?h("button",{className:a,onClick:D},a):null,sa(a,h("input",{key:a,value:S,onChange:is(P=>v(String(P[dn][Hl]),C),[v])}),h("input",{key:a,type:"number",value:g,onChange:is(P=>v(Number(P[dn][Hl]||0),T),[v])}),h("input",{key:a,type:"checkbox",checked:R,onChange:is(P=>v(!!P[dn].checked,w),[v])})))},$g=({tableId:e,cellId:t,descending:s,offset:o,limit:c,store:a,editable:u,sortOnClick:$,paginator:f=!1,onChange:S,customCells:C,...g})=>{const[T,R,w]=b1(t,s,$,o,c,Zy(e,a),f,S);return h(Za,{...g,params:fr($r(qa(e,a),C,u?el:Ka),w1(a,e),tC(e,...T,c,a),T,R,w)})},yg=({store:e,editable:t=!1,valueComponent:s=t?Lg:RC,getValueComponentProps:o,className:c,headerRow:a,idColumn:u})=>h("table",{className:c},a===!1?null:h("thead",null,h("tr",null,u===!1?null:h("th",null,"Id"),h("th",null,gn))),h("tbody",null,Pe(o1(e),$=>h("tr",{key:$},u===!1?null:h("th",null,$),h("td",null,h(s,{...Xa(o,$),valueId:$,store:e})))))),Cg=({indexId:e,sliceId:t,indexes:s,editable:o,customCells:c,...a})=>{const[u,$,f]=IC(or(s),e);return h(Za,{...a,params:fr($r(qa(f,$),c,o?el:Ka),w1($,f),aC(e,t,u))})},gg=({relationshipId:e,relationships:t,editable:s,customCells:o,className:c,headerRow:a,idColumn:u=!0})=>{const[$,f,S,C]=xC(Ja(t),e),g=$r([...Jl(S,f),...Jl(C,f)],o,s?el:Ka),T=fr(u,g,S,C,e,$,f);return h("table",{className:c},a===!1?null:h("thead",null,h("tr",null,u===!1?null:h(z.Fragment,null,h("th",null,S,".Id"),h("th",null,C,".Id")),Ke(g,({label:R},w)=>h("th",{key:w},R)))),h("tbody",null,Pe(eC(S,f),R=>h(fg,{key:R,localRowId:R,params:T}))))},hg=({queryId:e,cellId:t,descending:s,offset:o,limit:c,queries:a,sortOnClick:u,paginator:$=!1,customCells:f,onChange:S,...C})=>{const[g,T,R]=b1(t,s,u,o,c,SC(e,a),$,S);return h(Za,{...C,params:fr($r(dC(e,a),f,pC),Sg(a,e),fC(e,...g,c,a),g,T,R)})},el=({tableId:e,rowId:t,cellId:s,store:o,className:c,showType:a})=>{var u;return h(E1,{thing:wn(e,t,s,o),onThingChange:cr(e,t,s,$=>$,[],o),className:c??p1+vo,showType:a,hasSchema:(u=ut(o))==null?void 0:u.hasTablesSchema})},Lg=({valueId:e,store:t,className:s,showType:o})=>{var c;return h(E1,{thing:Xs(e,t),onThingChange:vc(e,a=>a,[],t),className:s??p1+gn,showType:o,hasSchema:(c=ut(t))==null?void 0:c.hasValuesSchema})},Tg=({onChange:e,total:t,offset:s=0,limit:o=t,singular:c="row",plural:a=c+"s"})=>{(s>t||s<0)&&(s=0,e(0));const u=Nc(()=>e(s-o),[e,s,o],s>0),$=Nc(()=>e(s+o),[e,s,o],s+o<t);return h(z.Fragment,null,t>o&&h(z.Fragment,null,h("button",{className:"previous",disabled:s==0,onClick:u},lg),h("button",{className:"next",disabled:s+o>=t,onClick:$},ug),s+1," to ",PC(t,s+o)," of "),t," ",t!=1?a:c)},Rg=({indexes:e,indexesId:t,indexId:s,s:o})=>h(bt,{uniqueId:wt("i",t,s),summary:"Index: "+s,s:o},Pe(cC(s,e),c=>h(pg,{indexes:e,indexesId:t,indexId:s,sliceId:c,s:o,key:c}))),pg=({indexes:e,indexesId:t,indexId:s,sliceId:o,s:c})=>{const a=wt("i",t,s,o),[u,$]=ur(a,c);return h(bt,{uniqueId:a,summary:"Slice: "+o,editable:u,handleEditable:$,s:c},h(Cg,{sliceId:o,indexId:s,indexes:e,editable:u}))},Yl=({indexesId:e,s:t})=>{const s=Zu(e),o=rC(s);return te(s)?null:h(bt,{uniqueId:wt("i",e),summary:"Indexes: "+(e??rt),s:t},mt(o)?"No indexes defined":ir(o,c=>h(Rg,{indexes:s,indexesId:e,indexId:c,s:t,key:c})))},wg=({metrics:e,metricId:t})=>h("tr",null,h("th",null,t),h("td",null,e==null?void 0:e.getTableId(t)),h("td",null,oC(t,e))),Kl=({metricsId:e,s:t})=>{const s=Ku(e),o=nC(s);return te(s)?null:h(bt,{uniqueId:wt("m",e),summary:"Metrics: "+(e??rt),s:t},mt(o)?"No metrics defined":h("table",null,h("thead",null,h("th",null,"Metric Id"),h("th",null,"Table Id"),h("th",null,"Metric")),h("tbody",null,Pe(o,c=>h(wg,{metrics:s,metricId:c,key:c})))))},bg=({queries:e,queriesId:t,queryId:s,s:o})=>{const c=wt("q",t,s),[a,u,$]=Qs(wn(Rs,c,Pc,o)??"[]"),f=cr(Rs,c,Pc,Kt,[],o);return h(bt,{uniqueId:c,summary:"Query: "+s,s:o},h(hg,{queryId:s,queries:e,cellId:a,descending:u,offset:$,limit:10,paginator:!0,sortOnClick:!0,onChange:f}))},Xl=({queriesId:e,s:t})=>{const s=t1(e),o=uC(s);return te(s)?null:h(bt,{uniqueId:wt("q",e),summary:"Queries: "+(e??rt),s:t},mt(o)?"No queries defined":ir(o,c=>h(bg,{queries:s,queriesId:e,queryId:c,s:t,key:c})))},Eg=({relationships:e,relationshipsId:t,relationshipId:s,s:o})=>{const c=wt("r",t,s),[a,u]=ur(c,o);return h(bt,{uniqueId:c,summary:"Relationship: "+s,editable:a,handleEditable:u,s:o},h(gg,{relationshipId:s,relationships:e,editable:a}))},Zl=({relationshipsId:e,s:t})=>{const s=e1(e),o=lC(s);return te(s)?null:h(bt,{uniqueId:wt("r",e),summary:"Relationships: "+(e??rt),s:t},mt(o)?"No relationships defined":ir(o,c=>h(Eg,{relationships:s,relationshipsId:e,relationshipId:c,s:t,key:c})))},mg=({tableId:e,store:t,storeId:s,s:o})=>{const c=wt("t",s,e),[a,u,$]=Qs(wn(Rs,c,Pc,o)??"[]"),f=cr(Rs,c,Pc,Kt,[],o),[S,C]=ur(c,o);return h(bt,{uniqueId:c,summary:Gs+": "+e,editable:S,handleEditable:C,s:o},h($g,{tableId:e,store:t,cellId:a,descending:u,offset:$,limit:10,paginator:!0,sortOnClick:!0,onChange:f,editable:S}))},vg=({store:e,storeId:t,s})=>{const o=wt("v",t),[c,a]=ur(o,s);return mt(o1(e))?null:h(bt,{uniqueId:o,summary:ba,editable:c,handleEditable:a,s},h(yg,{store:e,editable:c}))},ei=({storeId:e,s:t})=>{const s=Yu(e),o=Xy(s);return te(s)?null:h(bt,{uniqueId:wt("s",e),summary:(s.isMergeable()?"Mergeable":"")+"Store: "+(e??rt),s:t},h(vg,{storeId:e,store:s,s:t}),ir(o,c=>h(mg,{store:s,storeId:e,tableId:c,s:t,key:c})))},kg=({s:e})=>{const t=Bl(null),s=Bl(0),[o,c]=UC(!1),{scrollLeft:a,scrollTop:u}=sC(e);zC(()=>{const b=t.current;if(b&&!o){const oe=new MutationObserver(()=>{b.scrollWidth>=Ul(a)+b.clientWidth&&b.scrollHeight>=Ul(u)+b.clientHeight&&b.scrollTo(a,u)});return oe.observe(b,{childList:!0,subtree:!0}),()=>oe.disconnect()}},[o,a,u]);const $=u1(b=>{const{scrollLeft:oe,scrollTop:ue}=b[dn];cancelIdleCallback(s.current),s.current=requestIdleCallback(()=>{c(!0),e.setPartialValues({scrollLeft:oe,scrollTop:ue})})},[e]),f=Yu(),S=Hy(),C=Ku(),g=zy(),T=Zu(),R=Uy(),w=e1(),v=xy(),D=t1(),P=Iy();return te(f)&&mt(S)&&te(C)&&mt(g)&&te(T)&&mt(R)&&te(w)&&mt(v)&&te(D)&&mt(P)?h("span",{className:"warn"},"There are no Stores or other objects to inspect. Make sure you placed the Inspector inside a Provider component."):h("article",{ref:t,onScroll:$},h(ei,{s:e}),Pe(S,b=>h(ei,{storeId:b,s:e,key:b})),h(Kl,{s:e}),Pe(g,b=>h(Kl,{metricsId:b,s:e,key:b})),h(Yl,{s:e}),Pe(R,b=>h(Yl,{indexesId:b,s:e,key:b})),h(Zl,{s:e}),Pe(v,b=>h(Zl,{relationshipsId:b,s:e,key:b})),h(Xl,{s:e}),Pe(P,b=>h(Xl,{queriesId:b,s:e,key:b})))};class Vg extends FC{constructor(s){super(s);ol(this,"componentDidCatch",(s,o)=>console.error(s,o.componentStack));this.state={e:0}}static getDerivedStateFromError(){return{e:1}}render(){return this.state.e?h("span",{className:"warn"},"Inspector error: please see console for details."):this.props.children}}const Ag=({s:e})=>{const t=Xs(_c,e)??1,s=vc(Dc,()=>!1,[],e),o=vc(_c,c=>Number(c[dn].dataset.id),[],e);return h("header",null,h("img",{title:Ea}),h("span",null,Ea),Pe(g1,(c,a)=>a==t?null:h("img",{onClick:o,"data-id":a,title:"Dock to "+c,key:a})),h("img",{onClick:s,title:"Close"}))},Pg=({s:e})=>{const t=Xs(_c,e)??1;return Xs(Dc,e)?h("main",{"data-position":t},h(Ag,{s:e}),h(Vg,null,h(kg,{s:e}))):null},tl=e=>t=>OC(_g(t),(s,o)=>s+e(o),0),sl=e=>(e==null?void 0:e.size)??0,nl=tl(sl),wo=tl(nl),na=tl(wo),Ye=(e,t)=>(e==null?void 0:e.has(t))??!1,K=e=>te(e)||sl(e)==0,_g=e=>[...(e==null?void 0:e.values())??[]],oa=e=>e.clear(),re=(e,t)=>e==null?void 0:e.forEach(t),Mc=(e,t)=>e==null?void 0:e.delete(t),J=e=>new Map(e),Lo=e=>[...(e==null?void 0:e.keys())??[]],N=(e,t)=>e==null?void 0:e.get(t),as=(e,t)=>re(e,(s,o)=>t(o,s)),Dg=(e,t)=>Pe([...(e==null?void 0:e.entries())??[]],([s,o])=>t(o,s)),ie=(e,t,s)=>te(s)?(Mc(e,t),e):e==null?void 0:e.set(t,s),Ue=(e,t,s,o)=>(Ye(e,t)?o==null||o(N(e,t)):ie(e,t,s()),N(e,t)),Bs=(e,t,s,o=ie)=>(Ke(t,(c,a)=>s(e,a,c)),as(e,c=>po(t,c)?0:o(e,c)),e),Ze=(e,t,s,o)=>{const c={};return re(e,(a,u)=>{if(!(s!=null&&s(a,u))){const $=t?t(a,u):a;o!=null&&o($)||(c[u]=$)}}),c},va=(e,t,s)=>Ze(e,o=>Ze(o,t,s),K,et),ic=(e,t,s)=>Ze(e,o=>va(o,t,s),K,et),us=(e,t)=>{const s=J();return re(e,(o,c)=>s.set(c,(t==null?void 0:t(o))??o)),s},ka=e=>us(e,us),ca=e=>us(e,ka),Va=(e,t,s,o,c=0)=>Ne((s?Ue:N)(e,t[c],c>At(t)-2?s:J),a=>{if(c>At(t)-2)return o!=null&&o(a)&&ie(e,t[c]),a;const u=Va(a,t,s,o,c+1);return K(a)&&ie(e,t[c]),u}),bo=e=>new Set(zo(e)||te(e)?e:[e]),Eo=(e,t)=>e==null?void 0:e.add(t),Ng=/^\d+$/,m1=()=>{const e=[];let t=0;return[s=>(s?S1(e):null)??es+t++,s=>{MC(Ng,s)&&At(e)<1e3&&Uo(e,s)}]},Mg=(e,t=[es])=>{const s=[],o=(c,a)=>a==At(t)?Uo(s,c):t[a]===null?re(c,u=>o(u,a+1)):Vc([t[a],null],u=>o(N(c,u),a+1));return o(e,0),s},v1=e=>{let t;const[s,o]=m1(),c=J();return[(S,C,g,T=[],R=()=>[])=>{t??(t=e());const w=s(1);return ie(c,w,[S,C,g,T,R]),Eo(Va(C,g??[es],bo),w),w},(S,C,...g)=>Vc(Mg(S,C),T=>re(T,R=>N(c,R)[0](t,...C??[],...g))),S=>Ne(N(c,S),([,C,g])=>(Va(C,g??[es],void 0,T=>(Mc(T,S),K(T)?1:0)),ie(c,S),o(S),g)),S=>Ne(N(c,S),([C,,g=[],T,R])=>{const w=(...v)=>{var P;const D=At(v);D==At(g)?C(t,...v,...R(v)):te(g[D])?Vc(((P=T[D])==null?void 0:P.call(T,...v))??[],b=>w(...v,b)):w(...v,g[D])};w()})]},uc=J(),dc=J(),Fg=(e=1,t)=>e!=1&&t.isMergeable()?[1,t.getMergeableContent,t.getTransactionMergeableChanges,([[s],[o]])=>!et(s)||!et(o),t.setDefaultContent]:e!=2?[0,t.getContent,t.getTransactionChanges,([s,o])=>!et(s)||!et(o),t.setContent]:i1("Store type not supported by this Persister"),Hg=(e,t,s,o,c,a,u,$={},f=[])=>{let S=0,C=0,g=0,T,R,w;Ue(uc,f,()=>0),Ue(dc,f,()=>[]);const v=J(),[D,P,b,oe,ue]=Fg(u,e),[$e,X,E]=v1(()=>j),A=L=>{L!=S&&(S=L,X(v,void 0,S))},he=async()=>{if(!N(uc,f)){for(ie(uc,f,1);!te(T=S1(N(dc,f)));)try{await T()}catch{}ie(uc,f,0)}},M=L=>{(D&&zo(L==null?void 0:L[0])?(L==null?void 0:L[2])===1?e.applyMergeableChanges:e.setMergeableContent:(L==null?void 0:L[2])===1?e.applyChanges:e.setContent)(L)},ee=async L=>(S!=2&&(A(1),C++,await se(async()=>{try{const W=await t();zo(W)?M(W):i1(`Content is not an array ${W}`)}catch{L&&ue(L)}A(0)})),j),Le=async L=>{await ne().load(L);try{R=await o(async(W,be)=>{be||W?S!=2&&(A(1),C++,M(be??W),A(0)):await ee()})}catch{}return j},ne=()=>(R&&(c(R),R=void 0),j),F=()=>!te(R),Y=async L=>(S!=1&&(A(2),g++,await se(async()=>{try{await s(P,L)}catch{}A(0)})),j),fe=async()=>(await ae().save(),w=e.addDidFinishTransactionListener(()=>{const L=b();oe(L)&&Y(L)}),j),ae=()=>(Ne(w,e.delListener),w=void 0,j),Ce=()=>!te(w),we=()=>S,Re=L=>$e(L,v),Z=L=>(E(L),e),se=async(...L)=>(Uo(N(dc,f),...L),await he(),j),j={load:ee,startAutoLoad:Le,stopAutoLoad:ne,isAutoLoading:F,save:Y,startAutoSave:fe,stopAutoSave:ae,isAutoSaving:Ce,getStatus:we,addStatusListener:Re,delListener:Z,schedule:se,getStore:()=>e,destroy:()=>(QC(N(dc,f)),ne().stopAutoSave()),getStats:()=>({loads:C,saves:g}),...$};return $1(j)},ti="storage",zg=(e,t,s,o)=>Hg(e,async()=>eg(s.getItem(t)),async f=>s.setItem(t,ZC(f())),f=>{const S=C=>{if(C.storageArea===s&&C.key===t)try{f(Qs(C.newValue))}catch{f()}};return zl.addEventListener(ti,S),S},f=>zl.removeEventListener(ti,f),o,3,{getStorageName:()=>t}),Ug=(e,t,s)=>zg(e,t,sessionStorage,s),Sc=e=>[e,e],ke=(e,t=nl)=>t(e[0])+t(e[1]),Ve=()=>[J(),J()],si=e=>[...e],fc=([e,t])=>e===t,xg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".split(es);J(Pe(xg,(e,t)=>[e,t]));const Ig=(e,t)=>(e??0)<(t??0)?-1:1,To=(e,t,s)=>ie(e,t,N(e,t)==-s?void 0:s),k1=()=>{let e,t,s=!1,o=!1,c=0,a=[];const u=J(),$=J(),f=J(),S=J(),C=J(),g=J(),T=J(),R=J(),w=J(),v=J(),D=J(),P=J(),b=J(),oe=J(),ue=bo(),$e=J(),X=J(),E=J(),A=J(),he=Ve(),M=Ve(),ee=Ve(),Le=Ve(),ne=Ve(),F=Ve(),Y=Ve(),fe=Ve(),ae=Ve(),Ce=Ve(),we=Ve(),Re=Ve(),Z=Ve(),se=Ve(),Te=Ve(),Fe=Ve(),De=Ve(),j=Ve(),L=Ve(),W=Ve(),be=Ve(),He=Ve(),Ee=J(),xe=Ve(),[ze,I,ss,Oe]=v1(()=>ce),sn=n=>rs(n,r=>rs(r,bn)),yr=n=>rs(n,bn),bn=n=>{if(!rs(n,(l,i)=>BC([lc,rt],i)))return!1;const r=n[lc];return!l1(r)&&r!=ar?!1:(cn(n[rt])!=r&&y1(n,rt),!0)},Cr=zo,gr=n=>rs(n,En,We),En=(n,r)=>(!e||Ye(D,r)||We(r))&&rs(n,(l,i)=>Dt(r,i,l),()=>We(r)),Dt=(n,r,l,i)=>rs(i?l:Vn(l,n,r),(d,y)=>Ne(mn(n,r,y,d),p=>(l[y]=p,!0),()=>!1),()=>We(n,r)),mn=(n,r,l,i)=>e?Ne(N(N(D,n),l),d=>cn(i)!=d[lc]?We(n,r,l,i,d[rt]):i,()=>We(n,r,l,i)):te(cn(i))?We(n,r,l,i):i,vn=(n,r)=>rs(r?n:hr(n),(l,i)=>Ne(kn(i,l),d=>(n[i]=d,!0),()=>!1),()=>St()),kn=(n,r)=>t?Ne(N(b,n),l=>cn(r)!=l[lc]?St(n,r,l[rt]):r,()=>St(n,r)):te(cn(r))?St(n,r):r,Vn=(n,r,l)=>(Ne(N(P,r),([i,d])=>{re(i,(y,p)=>{po(n,p)||(n[p]=y)}),re(d,y=>{po(n,y)||We(r,l,y)})}),n),hr=n=>(t&&(re(oe,(r,l)=>{po(n,l)||(n[l]=r)}),re(ue,r=>{po(n,r)||St(r)})),n),An=n=>Bs(D,n,(r,l,i)=>{const d=J(),y=bo();Bs(Ue(D,l,J),i,(p,k,_)=>{ie(p,k,_),Ne(_[rt],de=>ie(d,k,de),()=>Eo(y,k))}),ie(P,l,[d,y])},(r,l)=>{ie(D,l),ie(P,l)}),Pn=n=>Bs(b,n,(r,l,i)=>{ie(b,l,i),Ne(i[rt],d=>ie(oe,l,d),()=>Eo(ue,l))},(r,l)=>{ie(b,l),ie(oe,l),Mc(ue,l)}),_n=n=>et(n)?jt():Bt(n),Lr=([n,r])=>{(et(n)?jt:Bt)(n),(et(r)?Gt:Wt)(r)},Dn=n=>Bs(E,n,(r,l,i)=>Nt(l,i),(r,l)=>zn(l)),Nt=(n,r)=>Bs(Ue(E,n,()=>(Bn(n,1),ie($e,n,m1()),ie(X,n,J()),J())),r,(l,i,d)=>dt(n,l,i,d),(l,i)=>Un(n,l,i)),dt=(n,r,l,i,d)=>Bs(Ue(r,l,()=>(Wn(n,l,1),J())),i,(y,p,k)=>As(n,l,y,p,k),(y,p)=>xn(n,r,l,y,p,d)),As=(n,r,l,i,d)=>{Ye(l,i)||jn(n,r,i,1);const y=N(l,i);d!==y&&(Gn(n,r,i,y,d),ie(l,i,d))},Nn=(n,r,l,i,d)=>Ne(N(r,l),y=>As(n,l,y,i,d),()=>dt(n,r,l,Vn({[i]:d},n,l))),Mn=n=>et(n)?Gt():Wt(n),Fn=n=>Bs(A,n,(r,l,i)=>Mt(l,i),(r,l)=>In(l)),Mt=(n,r)=>{Ye(A,n)||On(n,1);const l=N(A,n);r!==l&&(Qn(n,l,r),ie(A,n,r))},Hn=(n,r)=>{const[l]=N($e,n),i=l(r);return Ye(N(E,n),i)?Hn(n,r):i},Ft=n=>N(E,n)??Nt(n,{}),zn=n=>Nt(n,{}),Un=(n,r,l)=>{const[,i]=N($e,n);i(l),dt(n,r,l,{},!0)},xn=(n,r,l,i,d,y)=>{var _;const p=N((_=N(P,n))==null?void 0:_[0],d);if(!te(p)&&!y)return As(n,l,i,d,p);const k=de=>{Gn(n,l,de,N(i,de)),jn(n,l,de,-1),ie(i,de)};te(p)?k(d):as(i,k),K(i)&&(Wn(n,l,-1),K(ie(r,l))&&(Bn(n,-1),ie(E,n),ie($e,n),ie(X,n)))},In=n=>{const r=N(oe,n);if(!te(r))return Mt(n,r);Qn(n,N(A,n)),On(n,-1),ie(A,n)},Bn=(n,r)=>To(u,n,r),Wn=(n,r,l)=>To(Ue(S,n,J),r,l)&&ie(f,n,Ue(f,n,()=>0)+l),jn=(n,r,l,i)=>{const d=N(X,n),y=N(d,l)??0;(y==0&&i==1||y==1&&i==-1)&&To(Ue($,n,J),l,i),ie(d,l,y!=-i?y+i:null),To(Ue(Ue(C,n,J),r,J),l,i)},Gn=(n,r,l,i,d)=>{var y;Ue(Ue(Ue(g,n,J),r,J),l,()=>[i,0])[1]=d,(y=a[3])==null||y.call(a,n,r,l,d)},On=(n,r)=>To(T,n,r),Qn=(n,r,l)=>{var i;Ue(R,n,()=>[r,0])[1]=l,(i=a[4])==null||i.call(a,n,l)},We=(n,r,l,i,d)=>(Uo(Ue(Ue(Ue(w,n,J),r,J),l,()=>[]),i),d),St=(n,r,l)=>(Uo(Ue(v,n,()=>[]),r),l),Ht=(n,r,l)=>Ne(N(N(N(g,n),r),l),([i,d])=>[!0,i,d],()=>[!1,...Sc(zt(n,r,l))]),Jn=n=>Ne(N(R,n),([r,l])=>[!0,r,l],()=>[!1,...Sc(Ut(n))]),qn=n=>!K(w)&&!K(Fe[n])?re(n?ca(w):w,(r,l)=>re(r,(i,d)=>re(i,(y,p)=>I(Fe[n],[l,d,p],y)))):0,Yn=n=>!K(v)&&!K(De[n])?re(n?us(v):v,(r,l)=>I(De[n],[l],r)):0,ft=(n,r,l,i)=>{if(!K(n))return I(r,i,()=>Ze(n)),as(n,(d,y)=>I(l,[...i??[],d],y==1)),1},Kn=n=>{const r=xt();r!=s&&I(he[n],void 0,r);const l=K(Ce[n]),i=K(Z[n])&&K(se[n])&&K(ae[n])&&K(we[n])&&K(F[n])&&K(Y[n])&&K(fe[n])&&l&&K(ee[n])&&K(Le[n]),d=K(Te[n])&&K(Re[n])&&K(ne[n])&&K(M[n]);if(!i||!d){const y=n?[us(u),ka($),us(f),ka(S),ca(C),ca(g)]:[u,$,f,S,C,g];if(!i){ft(y[0],ee[n],Le[n]),re(y[1],(k,_)=>ft(k,F[n],Y[n],[_])),re(y[2],(k,_)=>{k!=0&&I(fe[n],[_],eo(_))});const p=bo();re(y[3],(k,_)=>{ft(k,ae[n],we[n],[_])&&!l&&(I(Ce[n],[_,null]),Eo(p,_))}),l||re(y[5],(k,_)=>{if(!Ye(p,_)){const de=bo();re(k,je=>re(je,([Ot,Qt],$t)=>Qt!==Ot?Eo(de,$t):Mc(je,$t))),re(de,je=>I(Ce[n],[_,je]))}}),re(y[4],(k,_)=>re(k,(de,je)=>ft(de,Z[n],se[n],[_,je])))}if(!d){let p;re(y[5],(k,_)=>{let de;re(k,(je,Ot)=>{let Qt;re(je,([$t,yo],Or)=>{yo!==$t&&(I(Te[n],[_,Ot,Or],yo,$t,Ht),p=de=Qt=1)}),Qt&&I(Re[n],[_,Ot],Ht)}),de&&I(ne[n],[_],Ht)}),p&&I(M[n],void 0,Ht)}}},Xn=n=>{const r=It();r!=o&&I(j[n],void 0,r);const l=K(W[n])&&K(be[n]),i=K(He[n])&&K(L[n]);if(!l||!i){const d=n?[us(T),us(R)]:[T,R];if(l||ft(d[0],W[n],be[n]),!i){let y;re(d[1],([p,k],_)=>{k!==p&&(I(He[n],[_],k,p,Jn),y=1)}),y&&I(L[n],void 0,Jn)}}},U=(n,...r)=>(Hs(()=>n(...Pe(r,Se))),ce),Tr=()=>[Ps(),Ns()],Ps=()=>ic(E),ye=()=>Lo(E),Rr=n=>va(N(E,Se(n))),Zn=n=>Lo(N(X,Se(n))),eo=n=>sl(N(E,Se(n))),tt=n=>Lo(N(E,Se(n))),_s=(n,r,l,i=0,d)=>Pe(Il(d1(Dg(N(E,Se(n)),(y,p)=>[te(r)?p:N(y,Se(r)),p]),([y],[p])=>Ig(y,p)*(l?-1:1)),i,te(d)?d:i+d),([,y])=>y),pr=(n,r)=>Ze(N(N(E,Se(n)),Se(r))),Ds=(n,r)=>Lo(N(N(E,Se(n)),Se(r))),zt=(n,r,l)=>N(N(N(E,Se(n)),Se(r)),Se(l)),Ns=()=>Ze(A),Ms=()=>Lo(A),Ut=n=>N(A,Se(n)),xt=()=>!K(E),to=n=>Ye(E,Se(n)),so=(n,r)=>Ye(N(X,Se(n)),Se(r)),no=(n,r)=>Ye(N(E,Se(n)),Se(r)),oo=(n,r,l)=>Ye(N(N(E,Se(n)),Se(r)),Se(l)),It=()=>!K(A),co=n=>Ye(A,Se(n)),wr=()=>Kt(E),br=()=>Kt(A),Er=()=>Kt([E,A]),mr=()=>Kt(D),vr=()=>Kt(b),kr=()=>Kt([D,b]),Vr=n=>U(()=>Cr(n)?Lr(n):0),Bt=n=>U(()=>gr(n)?Dn(n):0),Ar=(n,r)=>U(l=>En(r,l)?Nt(l,r):0,n),Pr=(n,r,l)=>U((i,d)=>Dt(i,d,l)?dt(i,Ft(i),d,l):0,n,r),_r=(n,r,l=!0)=>Hs(()=>{let i;return Dt(n,i,r)&&(n=Se(n),dt(n,Ft(n),i=Hn(n,l?1:0),r)),i}),Dr=(n,r,l)=>U((i,d)=>{if(Dt(i,d,l,1)){const y=Ft(i);Ke(l,(p,k)=>Nn(i,y,d,k,p))}},n,r),Nr=(n,r,l,i)=>U((d,y,p)=>Ne(mn(d,y,p,xl(i)?i(zt(d,y,p)):i),k=>Nn(d,Ft(d),y,p,k)),n,r,l),Wt=n=>U(()=>vn(n)?Fn(n):0),Mr=n=>U(()=>vn(n,1)?Ke(n,(r,l)=>Mt(l,r)):0),Fr=(n,r)=>U(l=>Ne(kn(l,xl(r)?r(Ut(l)):r),i=>Mt(l,i)),n),Hr=n=>U(()=>{Ke(n[0],(r,l)=>te(r)?io(l):Ke(r,(i,d)=>te(i)?uo(l,d):Ke(i,(y,p)=>Ol(ce,l,d,p,y)))),Ke(n[1],(r,l)=>Ql(ce,l,r))}),ro=n=>{try{_n(Qs(n))}catch{}return ce},zr=n=>{try{Mn(Qs(n))}catch{}return ce},Ur=n=>U(()=>{try{const[r,l]=Qs(n);_n(r),Mn(l)}catch{ro(n)}}),ao=n=>U(()=>{if((e=sn(n))&&(An(n),!K(E))){const r=Ps();jt(),Bt(r)}}),lo=n=>U(()=>{if(t=yr(n)){const r=Ns();Fs(),Gt(),t=!0,Pn(n),Wt(r)}}),xr=(n,r)=>U(()=>{ao(n),lo(r)}),jt=()=>U(()=>Dn({})),io=n=>U(r=>Ye(E,r)?zn(r):0,n),uo=(n,r)=>U((l,i)=>Ne(N(E,l),d=>Ye(d,i)?Un(l,d,i):0),n,r),Ir=(n,r,l,i)=>U((d,y,p)=>Ne(N(E,d),k=>Ne(N(k,y),_=>Ye(_,p)?xn(d,k,y,_,p,i):0)),n,r,l),Gt=()=>U(()=>Fn({})),Br=n=>U(r=>Ye(A,r)?In(r):0,n),So=()=>U(()=>{An({}),e=!1}),Fs=()=>U(()=>{Pn({}),t=!1}),Wr=()=>U(()=>{So(),Fs()}),Hs=(n,r)=>{if(c!=-1){fo();const l=n();return $o(r),l}},fo=()=>{var n;return c!=-1&&c++,c==1&&((n=a[0])==null||n.call(a),I(Ee)),ce},jr=()=>[Ze(g,(n,r)=>N(u,r)===-1?void 0:Ze(n,(l,i)=>N(N(S,r),i)===-1?void 0:Ze(l,([,d])=>d,d=>fc(d)),K,et),K,et),Ze(R,([,n])=>n,n=>fc(n)),1],Gr=()=>[!K(g),!K(R),ic(g,si,fc),ic(w),Ze(R,si,fc),Ze(v),Ze(u),va(S),ic(C),Ze(T)],$o=n=>{var r,l;return c>0&&(c--,c==0&&(c=1,qn(1),K(g)||Kn(1),Yn(1),K(R)||Xn(1),n!=null&&n(ce)&&(re(g,(i,d)=>re(i,(y,p)=>re(y,([k],_)=>Ol(ce,d,p,_,k)))),oa(g),re(R,([i],d)=>Ql(ce,d,i)),oa(R)),I(xe[0],void 0),c=-1,qn(0),K(g)||Kn(0),Yn(0),K(R)||Xn(0),(r=a[1])==null||r.call(a),I(xe[1],void 0),(l=a[2])==null||l.call(a),c=0,s=xt(),o=It(),Vc([u,$,f,S,C,g,w,T,R,v],oa))),ce},ce={getContent:Tr,getTables:Ps,getTableIds:ye,getTable:Rr,getTableCellIds:Zn,getRowCount:eo,getRowIds:tt,getSortedRowIds:_s,getRow:pr,getCellIds:Ds,getCell:zt,getValues:Ns,getValueIds:Ms,getValue:Ut,hasTables:xt,hasTable:to,hasTableCell:so,hasRow:no,hasCell:oo,hasValues:It,hasValue:co,getTablesJson:wr,getValuesJson:br,getJson:Er,getTablesSchemaJson:mr,getValuesSchemaJson:vr,getSchemaJson:kr,hasTablesSchema:()=>e,hasValuesSchema:()=>t,setContent:Vr,setTables:Bt,setTable:Ar,setRow:Pr,addRow:_r,setPartialRow:Dr,setCell:Nr,setValues:Wt,setPartialValues:Mr,setValue:Fr,applyChanges:Hr,setTablesJson:ro,setValuesJson:zr,setJson:Ur,setTablesSchema:ao,setValuesSchema:lo,setSchema:xr,delTables:jt,delTable:io,delRow:uo,delCell:Ir,delValues:Gt,delValue:Br,delTablesSchema:So,delValuesSchema:Fs,delSchema:Wr,transaction:Hs,startTransaction:fo,getTransactionChanges:jr,getTransactionLog:Gr,finishTransaction:$o,forEachTable:n=>re(E,(r,l)=>n(l,i=>re(r,(d,y)=>i(y,p=>as(d,p))))),forEachTableCell:(n,r)=>as(N(X,Se(n)),r),forEachRow:(n,r)=>re(N(E,Se(n)),(l,i)=>r(i,d=>as(l,d))),forEachCell:(n,r,l)=>as(N(N(E,Se(n)),Se(r)),l),forEachValue:n=>as(A,n),addSortedRowIdsListener:(n,r,l,i,d,y,p)=>{let k=_s(n,r,l,i,d);return ze(()=>{const _=_s(n,r,l,i,d);jC(_,k)||(k=_,y(ce,n,r,l,i,d,k))},Ce[p?1:0],[n,r],[ye])},addStartTransactionListener:n=>ze(n,Ee),addWillFinishTransactionListener:n=>ze(n,xe[0]),addDidFinishTransactionListener:n=>ze(n,xe[1]),callListener:n=>(Oe(n),ce),delListener:n=>(ss(n),ce),getListenerStats:()=>({hasTables:ke(he),tables:ke(M),tableIds:ke(ee),hasTable:ke(Le),table:ke(ne),tableCellIds:ke(F),hasTableCell:ke(Y,wo),rowCount:ke(fe),rowIds:ke(ae),sortedRowIds:ke(Ce),hasRow:ke(we,wo),row:ke(Re,wo),cellIds:ke(Z,wo),hasCell:ke(se,na),cell:ke(Te,na),invalidCell:ke(Fe,na),hasValues:ke(j),values:ke(L),valueIds:ke(W),hasValue:ke(be),value:ke(He),invalidValue:ke(De),transaction:nl(Ee)+ke(xe)}),isMergeable:()=>!1,createStore:k1,addListener:ze,callListeners:I,setInternalListeners:(n,r,l,i,d)=>a=[n,r,l,i,d]};return Ke({[Is+Ml]:[0,he,[],()=>[xt()]],[Ml]:[0,M],[mC]:[0,ee],[Is+Gs]:[1,Le,[ye],n=>[to(...n)]],[Gs]:[1,ne,[ye]],[Gs+Fl]:[1,F,[ye]],[Is+Gs+vo]:[2,Y,[ye,Zn],n=>[so(...n)]],[vC]:[1,fe,[ye]],[kC]:[1,ae,[ye]],[Is+kc]:[2,we,[ye,tt],n=>[no(...n)]],[kc]:[2,Re,[ye,tt]],[Fl]:[2,Z,[ye,tt]],[Is+vo]:[3,se,[ye,tt,Ds],n=>[oo(...n)]],[vo]:[3,Te,[ye,tt,Ds],n=>Sc(zt(...n))],InvalidCell:[3,Fe],[Is+ba]:[0,j,[],()=>[It()]],[ba]:[0,L],[VC]:[0,W],[Is+gn]:[1,be,[Ms],n=>[co(...n)]],[gn]:[1,He,[Ms],n=>Sc(Ut(n[0]))],InvalidValue:[1,De]},([n,r,l,i],d)=>{ce[EC+d+bC]=(...y)=>ze(y[n],r[y[n+1]?1:0],n>0?Il(y,0,n):void 0,l,i)}),$1(ce)},Bg=({position:e="right",open:t=!1})=>{const s=Ky(k1),o=g1.indexOf(e);return yC(s,c=>Ug(c,Ac),void 0,async c=>{await c.load([{},{position:o==-1?1:o,open:!!t}]),await c.startAutoSave()}),h(HC,null,h("aside",{id:Ac},h(ag,{s}),h(Pg,{s})),h("style",null,rg))},Fc="issues",V1="issues",A1="issues",Wg={issues:{title:{type:"string",default:""},pullRequest:{type:"boolean",default:!1},bodyHtml:{type:"string",default:""},createdAt:{type:"string",default:""},updatedAt:{type:"string",default:""}}},{useCreateStore:jg,useProvideStore:Gg,useCreatePersister:ni,useCell:Og,useProvidePersister:Qg,useSetCellCallback:e2,useSortedRowIds:Jg,usePersisterStatus:qg}=Rn,ds=(e,t)=>Og(V1,e,t,Fc),Yg=(e,t)=>Jg(V1,e,t,void 0,void 0,Fc),Kg=()=>qg(A1),Xg=()=>{const e=hs("repoId"),t=jg(()=>tn().setTablesSchema(Wg),[e]);Gg(Fc,t),ni(t,o=>{if(e)return Oo(o,e+"/"+Fc)},[e],async o=>{await(o==null?void 0:o.startAutoLoad()),await(o==null?void 0:o.startAutoSave())},[]);const s=ni(t,o=>{if(e)return Zg(o,e)},[e],async o=>{await(o==null?void 0:o.load())},[]);return Qg(A1,s),null},Zg=(e,t)=>jo(e,async()=>{const[s,o]=t.split("/"),c={};return(await js.rest.issues.listForRepo({owner:s,repo:o,mediaType:{format:"html"},...un})).data.forEach(({number:a,title:u,pull_request:$,body_html:f,created_at:S,updated_at:C})=>c[a]={title:u,pullRequest:$!=null,bodyHtml:f??"",createdAt:S,updatedAt:C}),[{issues:c},{}]},async()=>{},s=>setInterval(s,Qc),s=>clearInterval(s));var eh="_1nl4udb0",th="_1nl4udb1";const sh=({issueId:e})=>z.createElement(z.Fragment,null,z.createElement(ri,{icon:ds(e,"pullRequest")?mu:Kc},z.createElement("h2",null,ds(e,"title")),z.createElement("p",null,"Created ",pc(ds(e,"createdAt")),"."),z.createElement("p",null,"Updated ",pc(ds(e,"updatedAt")),".")),z.createElement(fn,null),z.createElement("div",{dangerouslySetInnerHTML:{__html:ds(e,"bodyHtml")??""}})),nh=({issueId:e,isCurrent:t})=>{const s=Yc("issueId",()=>e,[e]),o=_u(null);return Pu(()=>{var c;t&&((c=o.current)==null||c.scrollIntoView(Du))},[t]),m(Sn,{variant:"item",ref:o,onClick:s,icon:ds(e,"pullRequest")?mu:Kc,title:ds(e,"title"),titleRight:m(Ss,{title:`#${e}`}),current:t})},oh=({currentIssueId:e,issueIds:t})=>t.map(s=>m(nh,{key:s,issueId:s,isCurrent:s==e})),ch=()=>{const e=hs("repoId"),t=hs("issueId"),s=Zc("issuesSortCell"),o=s=="title",c=Yg(s,!o),a=Yc("issueId",u=>u);return $s.useEffect(()=>{c.length>0&&(t==""||!c.includes(t))&&a(c[0])},[c,t,a]),m(Hc,{id:"issues",title:"Issues",titleRight:m(Ss,{icon:Kc,variant:"accent",title:Cc(e,"openIssuesCount")})},m(ra,{variant:"1|2"},m(fs,{className:eh},m(oh,{currentIssueId:t,issueIds:c})),ds(t,"title")?m(fs,{className:th},m(sh,{issueId:t})):null))};var rh="_19og9jh2";const Aa="repo",P1="repo",ah={id:{type:"string",default:""},owner:{type:"string",default:""},avatarUrl:{type:"string",default:""},name:{type:"string",default:""},archived:{type:"boolean",default:!1},createdAt:{type:"string",default:""},description:{type:"string",default:""},disabled:{type:"boolean",default:!1},fork:{type:"boolean",default:!1},forksCount:{type:"number",default:0},homepage:{type:"string",default:""},language:{type:"string",default:""},license:{type:"string",default:""},openIssuesCount:{type:"number",default:0},size:{type:"number",default:0},stargazersCount:{type:"number",default:0},topics:{type:"string",default:""},updatedAt:{type:"string",default:""},visibility:{type:"string",default:""}},{useCreateStore:lh,useProvideStore:ih,useCreatePersister:oi,usePersisterStatus:uh,useValue:dh,useProvidePersister:Sh}=Rn,Ge=e=>dh(e,Aa),fh=()=>uh(P1),$h=()=>{const e=hs("repoId"),t=lh(()=>tn().setValuesSchema(ah),[e]);ih(Aa,t),oi(t,o=>{if(e)return Oo(o,e+"/"+Aa)},[e],async o=>{await(o==null?void 0:o.startAutoLoad()),await(o==null?void 0:o.startAutoSave())},[]);const s=oi(t,o=>{if(o)return yh(o,e)},[e],async o=>{await(o==null?void 0:o.load())},[]);return Sh(P1,s),null},yh=(e,t)=>jo(e,async()=>{const[s,o]=t.split("/"),{owner:c,name:a,archived:u,created_at:$,description:f,disabled:S,fork:C,forks_count:g,homepage:T,language:R,license:w,open_issues_count:v,size:D,stargazers_count:P,topics:b,updated_at:oe,visibility:ue}=(await js.rest.repos.get({owner:s,repo:o,...un})).data;return[{},{id:c.login+"/"+a,owner:c.login,avatarUrl:c.avatar_url,name:a,archived:u??!1,createdAt:$??"",description:f??"",disabled:S??!1,fork:C,forksCount:g??0,homepage:T??"",language:R??"",license:(w==null?void 0:w.name)??"",openIssuesCount:v??0,size:D??0,stargazersCount:P??0,topics:(b==null?void 0:b.join(", "))??"",updatedAt:oe??"",visibility:ue??""}]},async()=>{},s=>setInterval(s,Qc),s=>clearInterval(s)),Ch=()=>{const e=Ge("homepage");return m(Hc,{title:m("b",null,"Summary"),titleRight:m("div",{className:rh},m(Ss,{title:Ge("visibility"),icon:A$,variant:"accent"}),Ge("fork")?m(Ss,{title:"fork",icon:Ra,variant:"accent"}):null,Ge("archived")?m(Ss,{title:"archived",icon:v$,variant:"accent"}):null,Ge("disabled")?m(Ss,{title:"disabled",icon:m$,variant:"accent"}):null),id:"repoHeader",startOpen:!0},m(ra,{variant:"2|1"},m(ri,{src:Ge("avatarUrl")},m("h2",null,Ge("name")),m("p",null,Ge("description")),m("p",null,"Created ",pc(Ge("createdAt")),", updated"," ",pc(Ge("updatedAt")),"."),e?m("p",null,m("a",{href:e,target:"_blank",rel:"noreferrer"},e)):null),m(fs,null,m(q1,{data:{Owner:Ge("owner"),Language:Ge("language"),License:Ge("license")}}))),m(fn,null),m(ra,{variant:"1|1|1"},m(fs,null,m(Qr,{icon:Ba,title:"Stars",number:yc(Ge("stargazersCount"))})),m(fs,null,m(Qr,{icon:Ra,title:"Forks",number:yc(Ge("forksCount"))})),m(fs,null,m(Qr,{icon:Kc,title:"Issues",number:yc(Ge("openIssuesCount"))}))))},gh=()=>{const e=hs("repoId"),t=Ge("id");return e==t?m(Au,null,m(Ch,null),m(ch,null)):null},hh={title:"title",createdAt:"most recently created",updatedAt:"most recently updated",pullRequest:"pull requests then issues"},Lh=()=>{const e=Zc("issuesSortCell"),t=Nu("issuesSortCell",s=>s.target.value,[]);return m("div",null,m("label",null,"Issues sorted by"),m("select",{onChange:t,value:e},Object.entries(hh).map(([s,o])=>m("option",{value:s,key:s},o))))},Th=({group:e,currentRepoId:t})=>{const s=Sy(e);return m(Hc,{id:`repoGroup/${e}`,icon:e=="Starred"?Ba:N$,title:e,titleRight:m(Ss,{variant:"accent",title:s.length}),key:e},s.map(o=>m(on,{repoId:o,isCurrent:o==t,key:o})))},Rh=()=>{const e=hs("repoId");return dy().map(t=>m(Th,{group:t,currentRepoId:e,key:t}))},ph={name:"name",stargazersCount:"stars",forksCount:"forks",openIssuesCount:"issues",createdAt:"most recently created",updatedAt:"most recently updated",fork:"repos then forks"},wh=()=>{const e=Zc("reposSortCell"),t=Nu("reposSortCell",s=>s.target.value,[]);return m("div",null,m("label",null,"Repos sorted by"),m("select",{onChange:t,value:e},Object.entries(ph).map(([s,o])=>m("option",{value:s,key:s},o))))},bh=()=>{const e=hs("repoId"),t=Yc("repoId",()=>"");return m(Au,null,m(Sn,{variant:"item",onClick:t,icon:P$,title:"Home",current:!e}),m(fn,null),m(Rh,null),m(fn,null),m(Hc,{icon:D$,title:"Settings"},m(wh,null),m(Lh,null)))};var Eh="_1cl0umd0",mh="_1cl0umd1",vh="_1cl0umd2";const kh=()=>{const e=fy()+fh()+Kg();return z.createElement(z.Fragment,null,z.createElement("img",{src:"/favicon.svg",alt:"TinyHub logo",className:Y1(Eh,e>0&&mh)}),z.createElement("h1",null,"TinyHub"),z.createElement(Sn,{variant:"icon",icon:V$,href:"https://github.com/tinyplex/tinyhub",alt:"A local-first GitHub client, built in public.",className:vh}))};var Vh="yugd9z0",Ah="yugd9z1";const Ph=()=>m(fs,{className:Vh},m("img",{src:"/favicon.svg",alt:"TinyHub logo",className:Ah}),m("h2",null,"Welcome to TinyHub"),m("p",null,"TinyHub is a local-first GitHub client, built in public."),m(fn,null),m("p",null,"Login with GitHub to get started."),m(Vu,null)),_h=()=>z.createElement(TC,null,z.createElement($$,null),z.createElement($y,null),z.createElement($h,null),z.createElement(Xg,null),z.createElement(p$,null),z.createElement(ey,null),z.createElement(Dh,null),z.createElement(Bg,null)),Dh=()=>{const e=Ta("name"),t=hs("repoId");return z.createElement(K1,{title:z.createElement(kh,null),topNavRight:z.createElement(Vu,null),sideNav:e?z.createElement(bh,null):null,main:e?t?z.createElement(gh,null):z.createElement(Cy,null):z.createElement(Ph,null)})};var _1,ci=X1;_1=ci.createRoot,ci.hydrateRoot;addEventListener("load",()=>_1(document.getElementById("app")).render(z.createElement(_h,null)));
